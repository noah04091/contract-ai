/* =================================
   ðŸ’Ž PROFESSIONAL SAAS FORM DESIGN
   Apple / Linear / Notion Style
   ================================= */

/* =================================
   1. BASE & LAYOUT
   ================================= */

.contractGenerator {
  min-height: 100vh;
  min-height: 100dvh; /* iOS Safari fix */
  background: linear-gradient(180deg, #f0f4ff 0%, #fafbff 50%, #f8fafc 100%);
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'SF Pro Text', 'Helvetica Neue', sans-serif;
  color: #0B1324;
  line-height: 1.6;
  font-size: 15px;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Header Section */
.generatorHeader {
  background: rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  box-shadow: 0 1px 0 rgba(0, 0, 0, 0.05);
  padding: 1.25rem 0;
  position: sticky;
  top: 0;
  z-index: 10;
  margin-bottom: 1rem;
}

.headerContent {
  max-width: 980px;
  margin: 0 auto;
  padding: 0 1.5rem;
}

.headerText {
  text-align: center;
  margin-bottom: 1.5rem;
}

.headerText h1 {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.75rem;
  font-size: 2.25rem;
  font-weight: 600;
  margin: 0;
  background: linear-gradient(135deg, #2E6CF6 0%, #1E53D8 100%);
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  letter-spacing: -0.025em;
}

.headerText p {
  font-size: 1.125rem;
  color: #667085;
  margin: 0.5rem 0 0 0;
  font-weight: 400;
}

/* Progress Steps */
.progressSteps {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 0;
  padding: 1.5rem 0;
  max-width: 800px;
  margin: 0 auto;
}

.stepWrapper {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.75rem;
  position: relative;
}

.stepCircle {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 600;
  font-size: 18px;
  transition: all 0.3s cubic-bezier(0.28, 0.44, 0.49, 1);
  position: relative;
  z-index: 2;
}

.stepNumber {
  font-size: 18px;
  font-weight: 600;
  line-height: 1;
}

.stepLabel {
  font-size: 13px;
  font-weight: 500;
  color: #667085;
  transition: all 0.3s cubic-bezier(0.28, 0.44, 0.49, 1);
  text-align: center;
  white-space: nowrap;
}

.stepLabelActive {
  color: #2E6CF6;
  font-weight: 600;
}

.stepUpcoming {
  background: white;
  border: 2px solid #E5E7EB;
  color: #667085;
}

.stepUpcoming:hover {
  border-color: #D1D1D6;
}

.stepActive {
  background: #2E6CF6;
  border: 2px solid #2E6CF6;
  color: white;
  box-shadow: 0 2px 8px rgba(46, 108, 246, 0.25);
}

.stepCompleted {
  background: #2E6CF6;
  border: 2px solid #2E6CF6;
  color: white;
}

.stepLine {
  flex: 1;
  height: 2px;
  background: #E5E7EB;
  position: relative;
  margin: 0 0.5rem;
  margin-bottom: 2rem;
}

.stepLineFill {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: #2E6CF6;
  transform-origin: left;
}

.progressBarContainer {
  width: 100%;
  height: 3px;
  background: rgba(0, 0, 0, 0.06);
  margin-top: 2rem;
  border-radius: 2px;
  overflow: hidden;
}

.progressBarFill {
  height: 100%;
  background: linear-gradient(90deg, #2E6CF6 0%, #1E53D8 100%);
  border-radius: 2px;
  box-shadow: 0 0 8px rgba(46, 108, 246, 0.4);
}

/* Step Header with Buttons */
.stepHeaderContent {
  position: relative;
  width: 100%;
  text-align: center;
  padding-top: 0.5rem;
}

.stepHeaderText {
  flex: 1;
}

.headerButton {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1.25rem;
  border-radius: 10px;
  font-size: 15px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s cubic-bezier(0.28, 0.44, 0.49, 1);
  font-family: inherit;
  white-space: nowrap;
}

.secondaryButton {
  background: white;
  border: 1.5px solid #E5E7EB;
  color: #0B1324;
  position: absolute;
  left: 0;
  top: 0;
}

.secondaryButton:hover {
  background: #F7F8FA;
  border-color: #D1D1D6;
  transform: translateY(-1px);
}

.primaryButton {
  background: linear-gradient(135deg, #2E6CF6 0%, #1E53D8 100%);
  border: none;
  color: white;
  box-shadow: 0 2px 8px rgba(46, 108, 246, 0.25);
  position: absolute;
  right: 0;
  top: 0;
}

.primaryButton:hover:not(.disabled) {
  background: linear-gradient(135deg, #1E53D8 0%, #1643B8 100%);
  box-shadow: 0 4px 16px rgba(46, 108, 246, 0.35);
  transform: translateY(-1px);
}

.primaryButton.disabled {
  opacity: 0.5;
  cursor: not-allowed;
  box-shadow: none;
  transform: none;
}

/* =================================
   2. MAIN CONTENT - PROFESSIONAL
   ================================= */

.generatorContent {
  max-width: 1100px;
  margin: 0 auto;
  padding: 2rem 1.5rem 8rem;
}

/* Breiter Container fÃ¼r Step 3 */
.generatorContent.step3Wide {
  max-width: 1400px;
}

/* Premium Notice */
.premiumNotice {
  background: linear-gradient(145deg, #fff7ec 0%, #fff3e0 100%);
  border: 1px solid rgba(255, 159, 10, 0.2);
  border-radius: 12px;
  padding: 1.25rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 14px rgba(0, 0, 0, 0.03);
}

.premiumContent {
  display: flex;
  align-items: center;
  gap: 1rem;
}

.premiumIcon {
  color: #ff9f0a;
  flex-shrink: 0;
}

.premiumText {
  flex: 1;
}

.premiumText h3 {
  margin: 0 0 0.25rem 0;
  font-size: 17px;
  font-weight: 600;
  color: #0B1324;
}

.premiumText p {
  margin: 0;
  color: #667085;
  font-size: 14px;
}

.upgradeButton {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 1rem;
  background: #ff9f0a;
  color: white;
  border: none;
  border-radius: 980px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.28, 0.44, 0.49, 1);
  font-size: 14px;
  flex-shrink: 0;
}

.upgradeButton:hover {
  background: #f08a00;
  transform: scale(1.02);
}

/* =================================
   3. FORM CONTAINER - WHITE CARD
   ================================= */

/* Central Form Grid - Professional White Card */
.formGrid {
  max-width: 1100px;
  margin: 0 auto;
  background: white;
  border-radius: 12px;
  border: 1px solid rgba(0, 0, 0, 0.08);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.04);
  padding: 3rem 2rem;
}

/* =================================
   4. TITLE HEADER SECTION
   ================================= */

/* Statischer Titel - Nicht als Input! */
.formTitleHeader {
  text-align: center;
  padding-bottom: 2.5rem;
  margin-bottom: 3rem;
  border-bottom: 1px solid #E5E7EB;
}

.formTitleHeader h2 {
  margin: 0 0 0.5rem 0;
  font-size: 22px;
  font-weight: 600;
  color: #0B1324;
  letter-spacing: -0.02em;
}

.formTitleHeader p {
  margin: 0;
  font-size: 14px;
  color: #667085;
}

/* Vertragstitel as Input Field (wenn doch als Input) */
.formGroup.spanning {
  max-width: 100%;
  margin: 0 0 3rem 0;
  padding-bottom: 2.5rem;
  border-bottom: 1px solid #E5E7EB;
}

.formGroup.spanning label {
  display: block;
  font-size: 13px;
  font-weight: 500;
  color: #667085;
  margin-bottom: 0.5rem;
  text-align: center;
}

.formGroup.spanning input {
  width: 100%;
  max-width: 700px;
  margin: 0 auto;
  display: block;
  font-size: 20px;
  font-weight: 600;
  padding: 0.875rem 1rem;
  min-height: 50px;
  text-align: center;
  background: #F9FAFB;
  border: none;
  border-radius: 10px;
  color: #0B1324;
  transition: all 0.2s cubic-bezier(0.28, 0.44, 0.49, 1);
}

.formGroup.spanning input:hover {
  background: #F3F4F6;
}

.formGroup.spanning input:focus {
  outline: 2px solid #2E6CF6;
  outline-offset: 0;
  background: white;
}

.formGroup.spanning input::placeholder {
  color: #98A2B3;
  font-weight: 500;
}

/* =================================
   5. SECTION STRUCTURE
   ================================= */

/* Field Group - Section Container */
.fieldGroup {
  margin-bottom: 3rem;
  padding-bottom: 3rem;
  border-bottom: 1px solid #E5E7EB;
}

.fieldGroup:last-child {
  border-bottom: none;
  padding-bottom: 0;
  margin-bottom: 0;
}

/* Section Header - 18px semibold mit Linie */
.groupHeader {
  margin: 0 0 1.5rem 0;
  padding-bottom: 1rem;
  font-size: 18px;
  font-weight: 600;
  color: #0B1324;
  letter-spacing: -0.02em;
  line-height: 1.3;
  position: relative;
  display: inline-block;
}

.groupHeader::after {
  content: "";
  position: absolute;
  bottom: 0;
  left: 0;
  width: 50%;
  height: 1px;
  background: #E5E7EB;
}

/* =================================
   5b. ACCORDION FIELD GROUPS
   Professional Collapsible Sections
   ================================= */

.accordionGroup {
  margin-bottom: 1rem;
  border: 1px solid #E5E7EB;
  border-radius: 12px;
  background: #FFFFFF;
  overflow: hidden;
  transition: all 0.3s cubic-bezier(0.28, 0.44, 0.49, 1);
}

.accordionGroup:hover {
  border-color: #D1D5DB;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
}

.accordionExpanded {
  border-color: #2E6CF6;
  box-shadow: 0 4px 16px rgba(46, 108, 246, 0.1);
}

.accordionComplete {
  border-color: #22C55E;
}

.accordionComplete .accordionHeader {
  background: linear-gradient(135deg, rgba(34, 197, 94, 0.05) 0%, rgba(34, 197, 94, 0.02) 100%);
}

/* Accordion Header Button */
.accordionHeader {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 1.25rem 1.5rem;
  background: #FAFBFC;
  border: none;
  cursor: pointer;
  transition: all 0.2s ease;
  font-family: inherit;
  text-align: left;
}

.accordionHeader:hover {
  background: #F5F6F8;
}

.accordionExpanded .accordionHeader {
  background: linear-gradient(135deg, rgba(46, 108, 246, 0.05) 0%, rgba(46, 108, 246, 0.02) 100%);
  border-bottom: 1px solid #E5E7EB;
}

.accordionHeaderLeft {
  display: flex;
  align-items: center;
  gap: 0.875rem;
}

.accordionNumber {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 28px;
  height: 28px;
  background: #E5E7EB;
  border-radius: 8px;
  font-size: 13px;
  font-weight: 600;
  color: #667085;
  transition: all 0.2s ease;
}

.accordionExpanded .accordionNumber {
  background: #2E6CF6;
  color: #FFFFFF;
}

.accordionComplete .accordionNumber {
  background: #22C55E;
  color: #FFFFFF;
}

.accordionTitle {
  font-size: 16px;
  font-weight: 600;
  color: #0B1324;
  letter-spacing: -0.01em;
}

.accordionCheckmark {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 22px;
  height: 22px;
  background: #22C55E;
  border-radius: 50%;
  font-size: 12px;
  color: #FFFFFF;
  font-weight: 600;
}

.accordionHeaderRight {
  display: flex;
  align-items: center;
  gap: 1rem;
}

.accordionProgress {
  font-size: 13px;
  font-weight: 500;
  color: #667085;
  white-space: nowrap;
}

.accordionChevron {
  font-size: 12px;
  color: #667085;
  transition: transform 0.3s cubic-bezier(0.28, 0.44, 0.49, 1);
}

.accordionChevronOpen {
  transform: rotate(180deg);
}

/* Accordion Content */
.accordionContent {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.4s cubic-bezier(0.28, 0.44, 0.49, 1);
}

.accordionContentOpen {
  max-height: 3000px; /* Large enough for any content */
  padding: 1.5rem;
}

/* Override groupFields inside accordion */
.accordionContent .groupFields {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 1.5rem;
}

/* ðŸŽ¯ Textareas und groÃŸe Felder Ã¼ber volle Breite */
.accordionContent .groupFields .formGroupFullWidth {
  grid-column: 1 / -1;
}

/* Felder mit textarea immer volle Breite */
.accordionContent .groupFields .formGroup:has(textarea) {
  grid-column: 1 / -1;
}

/* Fallback fÃ¼r Browser ohne :has() - via data-attribute */
.accordionContent .groupFields .formGroup[data-fullwidth="true"] {
  grid-column: 1 / -1;
}

/* Mobile: Single column */
@media (max-width: 768px) {
  .accordionHeader {
    padding: 1rem 1.25rem;
    flex-wrap: wrap;
    gap: 0.75rem;
  }

  .accordionHeaderLeft {
    flex: 1;
    min-width: 0;
  }

  .accordionTitle {
    font-size: 14px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .accordionHeaderRight {
    width: 100%;
    justify-content: space-between;
    padding-left: 36px; /* Align with title */
  }

  .accordionProgress {
    font-size: 12px;
  }

  .accordionContentOpen {
    padding: 1rem 1.25rem;
  }

  .accordionContent .groupFields {
    grid-template-columns: 1fr;
    gap: 1rem;
  }

  .accordionNumber {
    width: 24px;
    height: 24px;
    font-size: 12px;
  }
}

/* =================================
   6. GRID & INPUTS - CORE
   ================================= */

/* Two-Column Grid (Desktop) */
.groupFields {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 2rem;
}

/* Form Group - Input Container */
.formGroup {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

/* Labels - 13px medium #667085 */
.formGroup label {
  display: flex;
  align-items: center;
  font-size: 13px;
  font-weight: 500;
  color: #667085;
  margin-bottom: 0;
  letter-spacing: -0.01em;
  line-height: 1.4;
}

/* Help Text - Unter dem Label */
.helpText {
  display: block;
  font-size: 12px;
  font-weight: 400;
  color: #9CA3AF;
  line-height: 1.4;
  margin-top: -0.25rem;
  margin-bottom: 0.25rem;
}

/* Optional Badge */
.optionalBadge {
  display: inline-block;
  margin-left: 0.5rem;
  padding: 0.125rem 0.5rem;
  background: rgba(142, 142, 147, 0.1);
  border: 1px solid rgba(142, 142, 147, 0.2);
  border-radius: 100px;
  font-size: 11px;
  font-weight: 500;
  color: #667085;
  text-transform: lowercase;
}

/* Input Fields - Professional Flat Design */
.formGroup input,
.formGroup select {
  width: 100%;
  min-width: 420px;
  padding: 0.875rem 1rem;
  background: #F9FAFB;
  border: none;
  border-radius: 10px;
  font-size: 15px;
  line-height: 1.5;
  color: #0B1324;
  transition: all 0.2s cubic-bezier(0.28, 0.44, 0.49, 1);
  font-family: inherit;
  box-shadow: none;
  min-height: 50px;
}

.formGroup textarea {
  width: 100%;
  min-width: 420px;
  padding: 0.875rem 1rem;
  background: #F9FAFB;
  border: none;
  border-radius: 10px;
  font-size: 15px;
  line-height: 1.6;
  color: #0B1324;
  transition: all 0.2s cubic-bezier(0.28, 0.44, 0.49, 1);
  font-family: inherit;
  box-shadow: none;
  min-height: 120px;
  resize: vertical;
}

/* Hover States */
.formGroup input:hover,
.formGroup textarea:hover,
.formGroup select:hover {
  background: #F3F4F6;
}

/* Focus States - 2px #2E6CF6 Outline */
.formGroup input:focus,
.formGroup textarea:focus,
.formGroup select:focus {
  outline: 2px solid #2E6CF6;
  outline-offset: 0;
  background: white;
  box-shadow: none;
}

/* Placeholder */
.formGroup input::placeholder,
.formGroup textarea::placeholder,
.formGroup select::placeholder {
  color: #98A2B3;
}

/* Input with Suffix (â‚¬ Symbol) */
.inputWithSuffix {
  position: relative;
  display: flex;
  align-items: center;
}

.inputWithSuffixField {
  padding-right: 3.5rem !important;
}

.inputSuffix {
  position: absolute;
  right: 1.25rem;
  font-size: 15px;
  font-weight: 600;
  color: #667085;
  pointer-events: none;
  user-select: none;
}

/* Validation States */
.fieldError {
  display: flex;
  align-items: center;
  gap: 0.375rem;
  margin-top: 0.5rem;
  font-size: 13px;
  font-weight: 500;
  color: #ff3b30;
  line-height: 1.4;
}

.fieldError::before {
  content: "âš ";
  font-size: 14px;
}

.fieldSuccess {
  display: flex;
  align-items: center;
  gap: 0.375rem;
  margin-top: 0.5rem;
  font-size: 13px;
  font-weight: 500;
  color: #34c759;
  line-height: 1.4;
}

.fieldSuccess::before {
  content: "âœ“";
  font-size: 14px;
  font-weight: 700;
}

.fieldHelper {
  margin-top: 0.5rem;
  font-size: 13px;
  font-weight: 400;
  color: #667085;
  line-height: 1.4;
}

/* Input Error State */
.formGroup input.inputError,
.formGroup textarea.inputError,
.formGroup select.inputError {
  background: rgba(255, 59, 48, 0.05);
}

.formGroup input.inputError:focus,
.formGroup textarea.inputError:focus,
.formGroup select.inputError:focus {
  background: white;
  outline: 2px solid #ff3b30;
}

/* Input Success State */
.formGroup input.inputSuccess,
.formGroup textarea.inputSuccess,
.formGroup select.inputSuccess {
  background: rgba(52, 199, 89, 0.05);
}

.formGroup input.inputSuccess:focus,
.formGroup textarea.inputSuccess:focus,
.formGroup select.inputSuccess:focus {
  background: white;
  outline: 2px solid #34c759;
}

/* =================================
   6.5 INPUT PREVIEW & AUTOSAVE
   ================================= */

/* Input Preview Section */
.inputPreviewSection {
  background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
  border: 1px solid #e2e8f0;
  border-radius: 12px;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
  overflow: hidden;
}

.inputPreviewHeader {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
  padding-bottom: 0.75rem;
  border-bottom: 1px solid #e2e8f0;
}

.inputPreviewHeader h4 {
  margin: 0;
  font-size: 16px;
  font-weight: 600;
  color: #1e293b;
}

.inputPreviewClose {
  background: none;
  border: none;
  font-size: 18px;
  color: #64748b;
  cursor: pointer;
  padding: 0.25rem 0.5rem;
  border-radius: 4px;
  transition: all 0.2s;
}

.inputPreviewClose:hover {
  background: #e2e8f0;
  color: #334155;
}

.inputPreviewContent {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.inputPreviewGroup {
  background: white;
  border-radius: 8px;
  padding: 1rem;
  border: 1px solid #e2e8f0;
}

.inputPreviewGroup h5 {
  margin: 0 0 0.75rem 0;
  font-size: 13px;
  font-weight: 600;
  color: #2E6CF6;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.inputPreviewItems {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.inputPreviewItem {
  display: flex;
  gap: 0.75rem;
  font-size: 14px;
  line-height: 1.5;
}

.inputPreviewLabel {
  color: #64748b;
  min-width: 140px;
  flex-shrink: 0;
}

.inputPreviewValue {
  color: #1e293b;
  font-weight: 500;
  word-break: break-word;
}

/* Step 2 Button Row */
.step2ButtonRow {
  display: flex;
  gap: 1rem;
  align-items: center;
  justify-content: center;
  margin-top: 1.5rem;
}

.previewButton {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.875rem 1.5rem;
  background: white;
  border: 1px solid #e2e8f0;
  border-radius: 10px;
  font-size: 15px;
  font-weight: 500;
  color: #64748b;
  cursor: pointer;
  transition: all 0.2s;
}

.previewButton:hover {
  background: #f8fafc;
  border-color: #cbd5e1;
  color: #334155;
}

/* Autosave Indicator */
.autosaveIndicator {
  text-align: center;
  font-size: 13px;
  color: #64748b;
  margin-top: 1rem;
  padding: 0.5rem;
  background: rgba(52, 199, 89, 0.08);
  border-radius: 6px;
}

/* Mobile responsive */
@media (max-width: 768px) {
  .inputPreviewSection {
    padding: 1rem;
  }

  .inputPreviewItem {
    flex-direction: column;
    gap: 0.25rem;
  }

  .inputPreviewLabel {
    min-width: unset;
  }

  .step2ButtonRow {
    flex-direction: column;
  }

  .previewButton {
    width: 100%;
    justify-content: center;
  }
}

/* =================================
   7. STICKY BOTTOM BAR - CTA
   ================================= */

.stickyBottomBar {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: white;
  border-top: 1px solid #E5E7EB;
  box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.06);
  padding: 1.5rem 2rem;
  z-index: 100;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 1rem;
}

.stickyBottomBarContent {
  max-width: 1100px;
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 1.5rem;
}

.bottomBarInfo {
  flex: 1;
  text-align: left;
}

.bottomBarInfo p {
  margin: 0;
  font-size: 14px;
  color: #667085;
}

/* CTA Button - Larger & Prominent */
.generateButton {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.75rem;
  padding: 1.125rem 2.25rem;
  background: #2E6CF6;
  color: white;
  border: none;
  border-radius: 12px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  min-height: 56px;
  transition: all 0.3s cubic-bezier(0.28, 0.44, 0.49, 1);
  box-shadow: 0 2px 8px rgba(46, 108, 246, 0.2);
  white-space: nowrap;
}

.generateButton:hover:not(:disabled) {
  background: #1E53D8;
  box-shadow: 0 5px 15px rgba(46, 108, 246, 0.3);
  transform: translateY(-1px);
}

.generateButton:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
}

/* =================================
   8. TYPOGRAPHY & COLORS
   ================================= */

.groupTitle {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin: 0 0 1rem 0;
  font-size: 16px;
  font-weight: 600;
  color: #0B1324;
}

.groupIcon {
  color: #2E6CF6;
}

/* =================================
   9. CONTRACT TYPE SELECTION
   ================================= */

.contentGrid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 2rem;
  transition: all 0.35s cubic-bezier(0.28, 0.44, 0.49, 1);
}

.contentGrid.withPreview {
  grid-template-columns: 1fr 1fr;
}

.formPanel {
  background: transparent;
  border: none;
  padding: 0;
  box-shadow: none;
}

/* NUR fÃ¼r Step 3: Zentriere den Inhalt */
.formPanelCentered {
  grid-column: 1 / -1; /* Geht Ã¼ber alle Grid-Spalten */
  display: flex;
  justify-content: center; /* Zentriert den Inhalt horizontal */
}

.stepContent {
  min-height: 400px;
  margin-top: 24px;
  padding-bottom: 24px;
}

.stepHeader {
  margin-bottom: 1.5rem;
  text-align: center;
}

.stepHeader h2 {
  font-size: 24px;
  font-weight: 600;
  color: #0B1324;
  margin: 0 0 0.5rem 0;
  letter-spacing: -0.025em;
}

.stepHeader p {
  color: #667085;
  margin: 0;
  font-size: 16px;
}

.backButton {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 1rem;
  background: rgba(250, 250, 250, 0.8);
  border: 1px solid #E5E7EB;
  border-radius: 980px;
  color: #667085;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.28, 0.44, 0.49, 1);
  margin-bottom: 1rem;
  font-size: 14px;
  font-weight: 500;
}

.backButton:hover {
  background: #f5f5f7;
  border-color: rgba(46, 108, 246, 0.2);
  color: #2E6CF6;
  transform: translateX(-2px);
}

.contractTypesGrid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
  gap: 1.25rem;
  margin-top: 1.5rem;
}

.contractTypeCard {
  position: relative;
  background: rgba(255, 255, 255, 0.9);
  border: 1px solid #E5E7EB;
  border-radius: 12px;
  padding: 1.5rem;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.28, 0.44, 0.49, 1);
  display: flex;
  flex-direction: column;
  gap: 1rem;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.03);
  text-align: left;
}

.contractTypeCard:hover {
  background: white;
  box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
  transform: translateY(-4px);
  border-color: #2E6CF6;
}

.contractTypeCard.selected {
  border-color: #2E6CF6;
  box-shadow: 0 0 0 3px rgba(46, 108, 246, 0.1);
  background: white;
}

.contractTypeCard.locked {
  opacity: 0.6;
  cursor: not-allowed;
}

.contractTypeCard.locked:hover {
  transform: none;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.03);
}

/* Direkte h3/p Styles fÃ¼r contractTypeCard */
.contractTypeCard h3 {
  margin: 0;
  font-size: 16px;
  font-weight: 600;
  color: #0B1324;
}

.contractTypeCard p {
  margin: 0;
  font-size: 13px;
  color: #667085;
  line-height: 1.5;
}

.cardHeader {
  display: flex;
  align-items: flex-start;
  gap: 0.75rem;
}

.cardIcon {
  font-size: 28px;
  flex-shrink: 0;
  line-height: 1;
}

.cardText {
  flex: 1;
}

.cardText h3 {
  margin: 0 0 0.25rem 0;
  font-size: 16px;
  font-weight: 600;
  color: #0B1324;
}

.cardText p {
  margin: 0;
  font-size: 13px;
  color: #667085;
  line-height: 1.5;
}

.cardFeatures {
  display: flex;
  flex-wrap: wrap;
  gap: 0.4rem;
  margin-top: 0.5rem;
}

.featureTag {
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
  padding: 0.25rem 0.5rem;
  background: rgba(0, 0, 0, 0.04);
  border-radius: 6px;
  font-size: 11px;
  color: #667085;
  font-weight: 500;
}

.featureIcon {
  flex-shrink: 0;
}

.newBadge {
  position: absolute;
  top: 12px;
  right: 12px;
  background: linear-gradient(135deg, #ff3b30 0%, #ff6058 100%);
  color: white;
  padding: 4px 8px;
  border-radius: 8px;
  font-size: 10px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.popularBadge {
  position: absolute;
  top: 12px;
  right: 12px;
  background: linear-gradient(135deg, #30d158 0%, #5de87d 100%);
  color: white;
  padding: 4px 8px;
  border-radius: 8px;
  font-size: 10px;
  font-weight: 700;
  display: flex;
  align-items: center;
  gap: 3px;
}

/* =================================
   10. COMPANY PROFILE & DESIGN SELECTOR
   ================================= */

/* Create Profile Prompt */
.createProfilePrompt {
  background: linear-gradient(135deg, #F0F9FF 0%, #E0F2FE 100%);
  border: 1px solid #7DD3FC;
  border-radius: 12px;
  padding: 1.5rem 2rem;
  margin: 0 auto 2rem;
  max-width: 1100px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 1.5rem;
}

.promptContent {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  flex: 1;
}

.promptContent svg {
  color: #0284C7;
  flex-shrink: 0;
}

.promptContent h4 {
  margin: 0 0 0.25rem 0;
  font-size: 15px;
  font-weight: 600;
  color: #0B1324;
}

.promptContent p {
  margin: 0;
  font-size: 13px;
  color: #0369A1;
}

.createProfileButton {
  padding: 0.625rem 1.25rem;
  background: #0284C7;
  color: white;
  border: none;
  border-radius: 8px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
  white-space: nowrap;
}

.createProfileButton:hover {
  background: #0369A1;
  transform: translateY(-1px);
}

.companyProfileToggle {
  background: white;
  border: 1px solid #E5E7EB;
  border-radius: 12px;
  padding: 2rem;
  margin: 0 auto 2rem;
  max-width: 1100px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06);
  transition: all 0.2s cubic-bezier(0.28, 0.44, 0.49, 1);
}

.companyProfileToggle:hover {
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.toggleHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 1rem;
}

.toggleInfo {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  flex: 1;
}

.toggleInfo svg {
  color: #2E6CF6;
  flex-shrink: 0;
}

.toggleInfo h4 {
  margin: 0 0 0.25rem 0;
  font-size: 15px;
  font-weight: 600;
  color: #0B1324;
}

.toggleInfo p {
  margin: 0;
  font-size: 13px;
  color: #667085;
}

.toggleText h4 {
  margin: 0 0 0.25rem 0;
  font-size: 15px;
  font-weight: 600;
  color: #0B1324;
}

.toggleText p {
  margin: 0;
  font-size: 13px;
  color: #667085;
}

.toggleSwitch {
  position: relative;
  width: 44px;
  height: 24px;
  background: #d1d1d6;
  border-radius: 24px;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.28, 0.44, 0.49, 1);
  flex-shrink: 0;
}

.toggleSwitch.active {
  background: #30d158;
}

.toggleKnob {
  position: absolute;
  top: 2px;
  left: 2px;
  width: 20px;
  height: 20px;
  background: white;
  border-radius: 50%;
  transition: all 0.3s cubic-bezier(0.28, 0.44, 0.49, 1);
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
}

.toggleSwitch.active .toggleKnob {
  transform: translateX(20px);
}

.switch {
  position: relative;
  display: inline-block;
  width: 48px;
  height: 26px;
  flex-shrink: 0;
}

.switch input {
  opacity: 0;
  width: 0;
  height: 0;
  position: absolute;
}

.slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #d1d1d6;
  transition: 0.3s;
  border-radius: 26px;
  z-index: 1;
}

.slider:before {
  position: absolute;
  content: "";
  height: 20px;
  width: 20px;
  left: 3px;
  bottom: 3px;
  background-color: white;
  transition: 0.3s;
  border-radius: 50%;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
}

.switch input:checked + .slider {
  background-color: #30d158;
}

.switch input:checked + .slider:before {
  transform: translateX(22px);
}

.profilePreview {
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-top: 1rem;
  padding: 1rem;
  background: #F9FAFB;
  border-radius: 10px;
  border: 1px solid #E5E7EB;
}

.profilePreview img {
  width: 48px;
  height: 48px;
  object-fit: contain;
  border-radius: 8px;
  border: 1px solid #E5E7EB;
  flex-shrink: 0;
}

.profileInfo {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

.profileInfo strong {
  font-size: 15px;
  font-weight: 600;
  color: #0B1324;
}

.profileInfo span {
  font-size: 13px;
  color: #667085;
}

.designVariantSelector {
  background: white;
  border: 1px solid #E5E7EB;
  border-radius: 12px;
  padding: 2rem;
  margin: 0 auto 2rem;
  max-width: 1100px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06);
  transition: all 0.2s cubic-bezier(0.28, 0.44, 0.49, 1);
}

.designVariantSelector:hover {
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.selectorHeader {
  margin-bottom: 1.5rem;
}

.selectorInfo {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.selectorInfo svg {
  color: #2E6CF6;
  flex-shrink: 0;
}

.selectorInfo h4 {
  margin: 0 0 0.25rem 0;
  font-size: 15px;
  font-weight: 600;
  color: #0B1324;
}

.selectorInfo p {
  margin: 0;
  font-size: 13px;
  color: #667085;
}

.designOptions {
  display: grid;
  grid-template-columns: 1fr;
  gap: 1rem;
}

.designOption {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 1rem;
  background: white;
  border: 2px solid #E5E7EB;
  border-radius: 12px;
  cursor: pointer;
  transition: all 0.2s cubic-bezier(0.28, 0.44, 0.49, 1);
}

.designOption:hover {
  border-color: rgba(46, 108, 246, 0.3);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
}

.designOption.active {
  border-color: #2E6CF6;
  background: rgba(46, 108, 246, 0.03);
  box-shadow: 0 0 0 3px rgba(46, 108, 246, 0.1);
}

.designPreview {
  width: 80px;
  height: 60px;
  border-radius: 8px;
  overflow: hidden;
  flex-shrink: 0;
  background: white;
  border: 1px solid #E5E7EB;
}

.executivePreview {
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, #1d1d1f 0%, #3a3a3c 100%);
  position: relative;
}

.executivePreview::before {
  content: '';
  position: absolute;
  top: 8px;
  left: 8px;
  right: 8px;
  height: 2px;
  background: rgba(255, 255, 255, 0.3);
}

.executivePreview::after {
  content: '';
  position: absolute;
  top: 14px;
  left: 8px;
  right: 8px;
  height: 1px;
  background: rgba(255, 255, 255, 0.15);
}

.modernPreview {
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, #2E6CF6 0%, #5ac8fa 100%);
  position: relative;
}

.modernPreview::before {
  content: '';
  position: absolute;
  top: 8px;
  left: 8px;
  right: 8px;
  height: 2px;
  background: rgba(255, 255, 255, 0.4);
  border-radius: 2px;
}

.modernPreview::after {
  content: '';
  position: absolute;
  top: 14px;
  left: 8px;
  right: 8px;
  height: 1px;
  background: rgba(255, 255, 255, 0.25);
}

.minimalPreview {
  width: 100%;
  height: 100%;
  background: white;
  position: relative;
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.minimalPreview::before {
  content: '';
  position: absolute;
  top: 8px;
  left: 8px;
  right: 8px;
  height: 2px;
  background: rgba(0, 0, 0, 0.8);
}

.minimalPreview::after {
  content: '';
  position: absolute;
  top: 14px;
  left: 8px;
  right: 8px;
  height: 1px;
  background: rgba(0, 0, 0, 0.15);
}

.designDetails {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
  flex: 1;
}

.designDetails strong {
  font-size: 15px;
  font-weight: 600;
  color: #0B1324;
}

.designDetails span {
  font-size: 13px;
  color: #667085;
  line-height: 1.4;
}

/* =================================
   11. TEMPLATES & LIBRARIES
   ================================= */

.templateSection {
  margin-bottom: 2.5rem;
}

.templateHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.75rem;
  margin-bottom: 1.25rem;
  padding-bottom: 0.75rem;
  border-bottom: 1px solid #E5E7EB;
}

.templateHeader h3 {
  margin: 0;
  font-size: 18px;
  font-weight: 600;
  color: #0B1324;
  flex: 1;
}

.templateHeader svg {
  color: #2E6CF6;
}

.templateCount {
  background: rgba(46, 108, 246, 0.1);
  color: #2E6CF6;
  padding: 4px 10px;
  border-radius: 12px;
  font-size: 12px;
  font-weight: 600;
}

.createTemplateIconButton {
  width: 32px;
  height: 32px;
  border-radius: 8px;
  border: none;
  background: rgba(46, 108, 246, 0.1);
  color: #2E6CF6;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.2s ease;
  flex-shrink: 0;
}

.createTemplateIconButton:hover {
  background: #2E6CF6;
  color: white;
  transform: scale(1.05);
}

.templateLibrary {
  max-width: 1100px;
  margin: 0 auto 2rem;
  background: white;
  border-radius: 12px;
  padding: 2rem;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06);
}

.templateGrid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
  gap: 1rem;
  justify-content: center;
}

.templateCard {
  background: rgba(255, 255, 255, 0.8);
  border: 1px solid #E5E7EB;
  border-radius: 12px;
  padding: 1rem;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.28, 0.44, 0.49, 1);
  position: relative;
  display: flex;
  align-items: flex-start;
  gap: 0.75rem;
}

.templateCard:hover {
  background: white;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
  transform: translateY(-2px);
  border-color: #2E6CF6;
}

.templateCard.locked {
  opacity: 0.6;
  cursor: not-allowed;
}

.templateCard.locked:hover {
  transform: none;
  box-shadow: none;
}

.templateIcon {
  font-size: 1.5rem;
  flex-shrink: 0;
}

.templateInfo {
  flex: 1;
}

.templateInfo h4 {
  margin: 0 0 0.25rem 0;
  font-size: 14px;
  font-weight: 600;
  color: #0B1324;
}

.templateInfo p {
  margin: 0 0 0.5rem 0;
  font-size: 12px;
  color: #667085;
  line-height: 1.4;
}

.templateTags {
  display: flex;
  gap: 0.25rem;
  flex-wrap: wrap;
}

.tag {
  background: rgba(0, 0, 0, 0.04);
  color: #667085;
  padding: 2px 6px;
  border-radius: 4px;
  font-size: 10px;
  font-weight: 500;
}

.premiumBadge {
  position: absolute;
  top: 8px;
  right: 8px;
  background: linear-gradient(135deg, #ffd700, #ffed4e);
  color: #0B1324;
  padding: 3px 6px;
  border-radius: 6px;
  font-size: 9px;
  font-weight: 700;
  display: flex;
  align-items: center;
  gap: 2px;
}

/* User Template Styles */
.userTemplate {
  border: 1px solid #2E6CF6 !important;
  background: linear-gradient(135deg, rgba(46, 108, 246, 0.03) 0%, rgba(46, 108, 246, 0.01) 100%) !important;
}

.userTag {
  background: #2E6CF6 !important;
  color: white !important;
}

.deleteTemplateButton {
  position: absolute;
  top: 8px;
  right: 8px;
  width: 28px;
  height: 28px;
  border-radius: 6px;
  border: none;
  background: rgba(220, 38, 38, 0.1);
  color: #DC2626;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  opacity: 0;
  transition: all 0.2s ease;
  z-index: 2;
}

.templateCard:hover .deleteTemplateButton {
  opacity: 1;
}

.deleteTemplateButton:hover:not(:disabled) {
  background: #DC2626;
  color: white;
  transform: scale(1.1);
}

.deleteTemplateButton:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.miniSpinner {
  width: 14px;
  height: 14px;
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-top-color: white;
  border-radius: 50%;
  animation: spin 0.6s linear infinite;
}

/* Create Template Button */
.createTemplateButton {
  margin-top: 1.5rem;
  padding: 1rem 1.5rem;
  background: #2E6CF6;
  color: white;
  border: none;
  border-radius: 10px;
  font-size: 15px;
  font-weight: 500;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  cursor: pointer;
  transition: all 0.2s ease;
  width: 100%;
}

.createTemplateButton:hover {
  background: #1E53D8;
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(46, 108, 246, 0.3);
}

.createTemplateButtonInline {
  margin-bottom: 1rem;
  padding: 0.75rem 1rem;
  background: white;
  color: #2E6CF6;
  border: 1px solid #2E6CF6;
  border-radius: 8px;
  font-size: 13px;
  font-weight: 500;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  cursor: pointer;
  transition: all 0.2s ease;
  width: 100%;
}

.createTemplateButtonInline:hover {
  background: rgba(46, 108, 246, 0.05);
  transform: translateY(-1px);
}

/* Empty Templates State */
.emptyTemplates {
  text-align: center;
  padding: 1.5rem 1rem;
}

.emptyIcon {
  width: 80px;
  height: 80px;
  margin: 0 auto 1.5rem;
  border-radius: 50%;
  background: rgba(102, 112, 133, 0.1);
  display: flex;
  align-items: center;
  justify-content: center;
  color: #667085;
}

.emptyTemplates h4 {
  font-size: 18px;
  font-weight: 600;
  color: #0B1324;
  margin: 0 0 0.5rem 0;
}

.emptyTemplates p {
  font-size: 13px;
  color: #667085;
  margin: 0 0 0.75rem 0;
}

.createTemplateButtonSmall {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.375rem;
  padding: 0.5rem 1rem;
  background: white;
  border: 1px solid #E5E7EB;
  border-radius: 8px;
  font-size: 13px;
  font-weight: 500;
  color: #667085;
  cursor: pointer;
  transition: all 0.2s ease;
}

.createTemplateButtonSmall:hover {
  background: #F9FAFB;
  border-color: #2E6CF6;
  color: #2E6CF6;
}

/* =================================
   12. LOADING & ERROR STATES
   ================================= */

.loadingContainer {
  min-height: 400px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 1.5rem;
  padding: 3rem 1.5rem;
}

.loadingSpinner {
  width: 40px;
  height: 40px;
  border: 3px solid rgba(46, 108, 246, 0.1);
  border-top-color: #2E6CF6;
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}

.loadingSpinner.small {
  width: 16px;
  height: 16px;
  border-width: 2px;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

.loadingText {
  font-size: 16px;
  color: #667085;
  text-align: center;
  max-width: 300px;
}

.loadingText.large {
  font-size: 18px;
  font-weight: 500;
  color: #0B1324;
}

/* Loading Overlay - Centered Professional Loading */
.loadingOverlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  width: 100vw;
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 99999;
  background: rgba(255, 255, 255, 0.98);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
}

.loadingContent {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 1.5rem;
  padding: 3rem;
  text-align: center;
}

.loadingContent h3 {
  font-size: 24px;
  font-weight: 600;
  color: #0B1324;
  margin: 0;
}

.loadingContent p {
  font-size: 16px;
  color: #667085;
  margin: 0;
  max-width: 400px;
}

.loadingSpinner.large {
  width: 60px;
  height: 60px;
  border-width: 4px;
}

.loadingProgress {
  width: 300px;
  height: 4px;
  background: rgba(46, 108, 246, 0.1);
  border-radius: 2px;
  overflow: hidden;
  margin-top: 0.5rem;
}

.loadingBar {
  height: 100%;
  background: linear-gradient(90deg, #2E6CF6, #1E53D8);
  animation: loadingProgress 2s ease-in-out infinite;
  border-radius: 2px;
}

@keyframes loadingProgress {
  0% {
    width: 0%;
    margin-left: 0;
  }
  50% {
    width: 75%;
    margin-left: 0;
  }
  100% {
    width: 0%;
    margin-left: 100%;
  }
}

.errorMessage {
  background: rgba(255, 59, 48, 0.1);
  border: 1px solid rgba(255, 59, 48, 0.2);
  border-radius: 12px;
  padding: 1rem;
  margin: 1rem 0;
  color: #ff3b30;
  font-size: 14px;
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.errorMessage p {
  margin: 0;
  flex: 1;
}

/* =================================
   13. PREVIEW PANEL
   ================================= */

.previewPanel {
  background: rgba(255, 255, 255, 0.9);
  border: 1px solid #E5E7EB;
  border-radius: 12px;
  padding: 0;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.04);
  overflow: hidden;
  max-height: calc(100vh - 200px);
  display: flex;
  flex-direction: column;
}

.previewHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 1rem 1.5rem;
  border-bottom: 1px solid #E5E7EB;
  background: #F9FAFB;
}

.previewHeader h3 {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin: 0;
  color: #0B1324;
  font-weight: 600;
  font-size: 17px;
}

.closePreview {
  background: white;
  border: 1px solid #E5E7EB;
  border-radius: 50%;
  width: 28px;
  height: 28px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.2s cubic-bezier(0.28, 0.44, 0.49, 1);
  font-size: 18px;
  color: #667085;
  padding: 0;
}

.closePreview:hover {
  background: #f5f5f7;
  color: #0B1324;
  transform: scale(1.05);
}

.previewContainer {
  flex: 1;
  overflow-y: auto;
  padding: 1.5rem;
  background: white;
}

.contractPreview {
  background: white;
  border-radius: 8px;
  padding: 2rem;
  font-size: 14px;
  line-height: 1.8;
  color: #0B1324;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
}

.contractPreview h1 {
  font-size: 24px;
  font-weight: 700;
  margin: 0 0 1.5rem 0;
  color: #0B1324;
  text-align: center;
  padding-bottom: 1rem;
  border-bottom: 2px solid #2E6CF6;
}

.contractPreview h2 {
  font-size: 18px;
  font-weight: 600;
  margin: 2rem 0 1rem 0;
  color: #0B1324;
}

.contractPreview h3 {
  font-size: 16px;
  font-weight: 600;
  margin: 1.5rem 0 0.75rem 0;
  color: #0B1324;
}

.contractPreview p {
  margin: 0.75rem 0;
  line-height: 1.8;
}

.contractPreview ul,
.contractPreview ol {
  margin: 0.75rem 0;
  padding-left: 2rem;
}

.contractPreview li {
  margin: 0.5rem 0;
  line-height: 1.8;
}

.contractPreview strong {
  font-weight: 600;
  color: #0B1324;
}

/* =================================
   14. SIGNATURE SECTION
   ================================= */

.signatureSection {
  background: #F9FAFB;
  border-radius: 12px;
  padding: 1.5rem;
  margin: 1.5rem 0;
  border: 1px solid #E5E7EB;
}

.signatureSection h3 {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin: 0 0 1rem 0;
  color: #0B1324;
  font-weight: 600;
  font-size: 17px;
}

.signatureCanvasContainer {
  position: relative;
  background: white;
  border: 2px dashed #cbd5e1;
  border-radius: 12px;
  overflow: hidden;
  transition: all 0.3s cubic-bezier(0.28, 0.44, 0.49, 1);
  margin: 1rem 0;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
}

.signatureCanvasContainer:hover {
  border-color: #2E6CF6;
  box-shadow: 0 0 0 3px rgba(46, 108, 246, 0.1);
}

.signatureCanvas {
  display: block;
  width: 100%;
  height: 200px;
  cursor: crosshair !important;
  transition: all 0.3s cubic-bezier(0.28, 0.44, 0.49, 1);
  background: white;
  touch-action: none;
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  -webkit-touch-callout: none;
  -webkit-tap-highlight-color: transparent;
}

.signatureCanvas:hover {
  background: rgba(248, 250, 252, 0.5);
}

.signatureCanvas.drawing {
  cursor: crosshair !important;
}

.canvasOverlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1;
}

.canvasPlaceholder {
  color: #cbd5e1;
  font-size: 18px;
  font-weight: 500;
  pointer-events: none;
  user-select: none;
}

.signaturePreview {
  width: 100%;
  height: 100%;
  pointer-events: none;
  display: flex;
  align-items: center;
  justify-content: center;
}

.signaturePreview img {
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
  border-radius: 6px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.signatureControls {
  display: flex;
  gap: 1rem;
  margin-top: 1rem;
  flex-wrap: wrap;
  justify-content: center;
}

.signatureButton {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1.25rem;
  border: 1px solid #E5E7EB;
  border-radius: 980px;
  background: white;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.28, 0.44, 0.49, 1);
  font-weight: 500;
  font-size: 14px;
}

.signatureButton.secondary {
  color: #667085;
}

.signatureButton.secondary:hover {
  background: #f5f5f7;
  border-color: #E5E7EB;
  color: #0B1324;
}

.signatureButton.primary {
  background: linear-gradient(145deg, #2E6CF6 0%, #1E53D8 100%);
  border-color: transparent;
  color: white;
}

.signatureButton.primary:hover {
  background: linear-gradient(145deg, #1E53D8 0%, #1643B8 100%);
  box-shadow: 0 2px 8px rgba(46, 108, 246, 0.3);
}

.signatureButton:hover {
  transform: translateY(-1px);
}

.backToStartButton {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1.5rem;
  background: white;
  border: 1px solid #E5E7EB;
  border-radius: 980px;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.28, 0.44, 0.49, 1);
  margin-top: 2rem;
  color: #667085;
  font-weight: 500;
  width: 100%;
  justify-content: center;
  font-size: 15px;
}

.backToStartButton:hover {
  background: #f5f5f7;
  border-color: rgba(46, 108, 246, 0.2);
  color: #2E6CF6;
  transform: translateX(-2px);
}

/* =================================
   15. ACTION BUTTONS
   ================================= */

.actionButtons {
  display: flex;
  gap: 1rem;
  margin-bottom: 2rem;
  flex-wrap: wrap;
}

.actionButton {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1.25rem;
  background: white;
  border: 1px solid #E5E7EB;
  border-radius: 980px;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.28, 0.44, 0.49, 1);
  font-weight: 500;
  color: #0B1324;
  font-size: 14px;
}

.actionButton:hover {
  background: #f5f5f7;
  border-color: rgba(46, 108, 246, 0.2);
  color: #2E6CF6;
  transform: translateY(-1px);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
}

.actionButton.primary {
  background: linear-gradient(145deg, #2E6CF6 0%, #1E53D8 100%);
  color: white;
  border-color: transparent;
}

.actionButton.primary:hover {
  background: linear-gradient(145deg, #1E53D8 0%, #1643B8 100%);
  color: white;
  box-shadow: 0 2px 8px rgba(46, 108, 246, 0.3);
}

.actionButton.success {
  background: rgba(48, 209, 88, 0.1);
  border-color: rgba(48, 209, 88, 0.2);
  color: #30d158;
}

.actionButton.success:hover {
  background: rgba(48, 209, 88, 0.15);
  box-shadow: 0 2px 8px rgba(48, 209, 88, 0.15);
}

/* NEW: Signature Button */
.actionButton.signature {
  background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
  color: white;
  border-color: transparent;
}

.actionButton.signature:hover:not(:disabled) {
  background: linear-gradient(135deg, #2563eb 0%, #3b82f6 100%);
  box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
}

.actionButton.signature:disabled {
  background: #E5E7EB;
  color: #9CA3AF;
  cursor: not-allowed;
  opacity: 0.6;
}

.actionButton.signature:disabled:hover {
  transform: none;
  box-shadow: none;
}

/* Save Hint */
.saveHint {
  margin-top: 1rem;
  padding: 1rem 1.25rem;
  background: linear-gradient(135deg, #FFF8E1 0%, #FFECB3 100%);
  border-left: 4px solid #FFC107;
  border-radius: 8px;
  font-size: 14px;
  color: #856404;
  line-height: 1.5;
}

/* =================================
   NEW: STEP 3 CENTERED LAYOUT
   ================================= */

/* Centered container for Step 3 */
.step3Container {
  max-width: 1200px;
  margin: 0 auto;
  width: 100%;
  padding: 0 2rem;
  display: flex;
  flex-direction: column;
  align-items: center;
}

/* Centered header */
.step3Header {
  text-align: center;
  margin-bottom: 2rem;
  max-width: 800px;
}

.step3Header h2 {
  font-size: 28px;
  font-weight: 600;
  color: #0B1324;
  margin: 0 0 0.75rem 0;
  letter-spacing: -0.025em;
}

.step3Header p {
  color: #667085;
  margin: 0;
  font-size: 16px;
  line-height: 1.6;
}

/* Horizontal action buttons */
.step3ActionButtons {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 1rem;
  margin-bottom: 2rem;
  max-width: 1000px;
}

.step3ActionButton {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 1rem 1.5rem;
  background: white;
  border: 1.5px solid #E5E7EB;
  border-radius: 10px;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.28, 0.44, 0.49, 1);
  font-weight: 500;
  color: #0B1324;
  font-size: 14px;
  white-space: nowrap;
}

.step3ActionButton:hover:not(:disabled) {
  background: #f5f5f7;
  border-color: rgba(46, 108, 246, 0.3);
  color: #2E6CF6;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
}

/* Primary buttons (Speichern, Zur Signatur) */
.step3ActionButton.primary {
  background: linear-gradient(135deg, #2E6CF6 0%, #1E53D8 100%);
  color: white;
  border-color: transparent;
  font-weight: 600;
}

.step3ActionButton.primary:hover:not(:disabled) {
  background: linear-gradient(135deg, #1E53D8 0%, #1643B8 100%);
  color: white;
  box-shadow: 0 4px 12px rgba(46, 108, 246, 0.3);
  transform: translateY(-2px);
}

.step3ActionButton.primary:disabled {
  background: #E5E7EB;
  color: #9CA3AF;
  cursor: not-allowed;
  opacity: 0.6;
  transform: none;
  box-shadow: none;
}

/* Success state */
.step3ActionButton.success {
  background: rgba(48, 209, 88, 0.1);
  border-color: rgba(48, 209, 88, 0.3);
  color: #30d158;
}

.step3ActionButton.success:hover {
  background: rgba(48, 209, 88, 0.15);
  box-shadow: 0 2px 8px rgba(48, 209, 88, 0.15);
}

/* Loading state */
.step3ActionButton.loading {
  opacity: 0.7;
  cursor: wait;
  pointer-events: none;
}

/* ðŸ”„ Contract Improvement Section */
.improvementSection {
  margin: 2rem 0;
  width: 100%;
}

.showImprovementButton {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 1rem 2rem;
  background: linear-gradient(135deg, rgba(255, 149, 0, 0.1) 0%, rgba(255, 179, 64, 0.1) 100%);
  border: 1.5px solid rgba(255, 149, 0, 0.3);
  border-radius: 10px;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.28, 0.44, 0.49, 1);
  font-weight: 500;
  color: #FF9500;
  font-size: 14px;
  width: 100%;
}

.showImprovementButton:hover:not(:disabled) {
  background: linear-gradient(135deg, rgba(255, 149, 0, 0.15) 0%, rgba(255, 179, 64, 0.15) 100%);
  border-color: rgba(255, 149, 0, 0.5);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(255, 149, 0, 0.2);
}

.showImprovementButton:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.improvementForm {
  background: white;
  border: 1.5px solid #E5E7EB;
  border-radius: 12px;
  padding: 1.5rem;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
}

.improvementFormHeader {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 1rem;
  padding-bottom: 1rem;
  border-bottom: 1.5px solid #E5E7EB;
  font-weight: 600;
  color: #0B1324;
  position: relative;
}

.improvementFormHeader svg {
  color: #FF9500;
}

.closeImprovementButton {
  position: absolute;
  right: 0;
  top: 0;
  background: none;
  border: none;
  font-size: 20px;
  color: #9CA3AF;
  cursor: pointer;
  padding: 0;
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 4px;
  transition: all 0.2s;
}

.closeImprovementButton:hover:not(:disabled) {
  background: rgba(0, 0, 0, 0.05);
  color: #0B1324;
}

.closeImprovementButton:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.improvementTextarea {
  width: 100%;
  min-height: 120px;
  padding: 1rem;
  border: 1.5px solid #E5E7EB;
  border-radius: 8px;
  font-family: inherit;
  font-size: 14px;
  line-height: 1.6;
  resize: vertical;
  transition: all 0.2s;
  background: #F9FAFB;
}

.improvementTextarea:focus {
  outline: none;
  border-color: #FF9500;
  background: white;
  box-shadow: 0 0 0 3px rgba(255, 149, 0, 0.1);
}

.improvementTextarea:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.improvementTextarea::placeholder {
  color: #9CA3AF;
}

.improvementActions {
  display: flex;
  gap: 1rem;
  margin-top: 1rem;
  justify-content: flex-end;
}

.improvementCancelButton {
  padding: 0.75rem 1.5rem;
  background: white;
  border: 1.5px solid #E5E7EB;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.2s;
  font-weight: 500;
  color: #6B7280;
  font-size: 14px;
}

.improvementCancelButton:hover:not(:disabled) {
  background: #F9FAFB;
  border-color: #D1D5DB;
  color: #0B1324;
}

.improvementCancelButton:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.improvementSubmitButton {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.75rem 1.5rem;
  background: linear-gradient(135deg, #FF9500 0%, #FFB340 100%);
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.28, 0.44, 0.49, 1);
  font-weight: 600;
  color: white;
  font-size: 14px;
}

.improvementSubmitButton:hover:not(:disabled) {
  background: linear-gradient(135deg, #E68600 0%, #FF9500 100%);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(255, 149, 0, 0.3);
}

.improvementSubmitButton:disabled {
  background: #E5E7EB;
  color: #9CA3AF;
  cursor: not-allowed;
  opacity: 0.6;
  transform: none;
  box-shadow: none;
}

.buttonSpinner {
  width: 16px;
  height: 16px;
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-top-color: white;
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

/* Split view for text editor and PDF preview */
.step3SplitView {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1.5rem;
  margin-top: 2rem;
  min-height: 600px;
  width: 100%;
  max-width: 1200px;
}

.step3Panel {
  background: white;
  border: 1.5px solid #E5E7EB;
  border-radius: 12px;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
}

.step3PanelHeader {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 1rem 1.25rem;
  background: #F9FAFB;
  border-bottom: 1px solid #E5E7EB;
  font-weight: 600;
  color: #0B1324;
  font-size: 15px;
}

.step3PanelContent {
  flex: 1;
  overflow: auto;
  padding: 1.25rem;
}

/* Text editor */
.step3TextEditor {
  width: 100%;
  height: 100%;
  min-height: 500px;
  border: none;
  outline: none;
  font-family: 'SÃ¶hne', 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif;
  font-size: 14px;
  line-height: 1.8;
  color: #0B1324;
  resize: none;
  padding: 0;
}

/* PDF preview */
.step3PdfPreview {
  width: 100%;
  height: 100%;
  min-height: 500px;
  border: none;
  background: #F9FAFB;
}

.step3PdfLoading {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
  gap: 1rem;
  color: #667085;
}

.step3PdfError {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
  gap: 1rem;
  color: #DC2626;
}

/* Responsive */
@media (max-width: 1024px) {
  .step3Container {
    padding: 0 1.5rem;
  }

  .step3SplitView {
    grid-template-columns: 1fr;
    gap: 1rem;
  }

  .step3ActionButtons {
    grid-template-columns: repeat(2, 1fr);
    gap: 0.75rem;
  }
}

@media (max-width: 768px) {
  .step3Container {
    padding: 0 1rem;
  }

  .step3ActionButtons {
    grid-template-columns: 1fr;
    gap: 0.75rem;
  }

  .step3ActionButton {
    padding: 0.875rem 1.25rem;
    min-height: 44px;
  }

  .step3Header h2 {
    font-size: 24px;
  }

  .step3Header p {
    font-size: 14px;
  }
}

/* =================================
   16. USAGE & TIP BOXES
   ================================= */

.usageSection {
  background: #F9FAFB;
  border: 1px solid #E5E7EB;
  border-radius: 12px;
  padding: 1.25rem;
  margin-bottom: 2rem;
}

.usageTitle {
  font-size: 18px;
  font-weight: 600;
  color: #0B1324;
  margin: 0 0 0.5rem 0;
}

.usageSubtitle {
  font-size: 14px;
  color: #667085;
  margin: 0 0 1rem 0;
}

.limitProgress {
  position: relative;
}

.limitText {
  font-size: 13px;
  color: #667085;
  margin-bottom: 0.5rem;
}

.limitBar {
  width: 100%;
  height: 8px;
  background: rgba(0, 0, 0, 0.05);
  border-radius: 8px;
  overflow: hidden;
  position: relative;
}

.limitBarFill {
  height: 100%;
  background: linear-gradient(90deg, #30d158 0%, #5de87d 100%);
  border-radius: 8px;
  transition: width 0.4s cubic-bezier(0.28, 0.44, 0.49, 1);
}

.limitBarFill[style*="100%"] {
  background: linear-gradient(90deg, #ff3b30 0%, #ff6058 100%);
}

.upgradeNotice {
  margin-top: 1rem;
  padding: 0.75rem 1rem;
  background: rgba(46, 108, 246, 0.1);
  border: 1px solid rgba(46, 108, 246, 0.2);
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 1rem;
  font-size: 13px;
  color: #2E6CF6;
}

.upgradeLink {
  padding: 0.4rem 0.75rem;
  background: #2E6CF6;
  color: white;
  border: none;
  border-radius: 6px;
  font-size: 12px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  flex-shrink: 0;
}

.upgradeLink:hover {
  background: #1E53D8;
  transform: scale(1.02);
}

.limitReachedNotice {
  margin-top: 1rem;
  padding: 0.75rem 1rem;
  background: rgba(255, 59, 48, 0.1);
  border: 1px solid rgba(255, 59, 48, 0.2);
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 1rem;
  font-size: 13px;
  color: #ff3b30;
  font-weight: 600;
}

.limitReachedNotice .upgradeLink {
  background: #ff3b30;
}

.limitReachedNotice .upgradeLink:hover {
  background: #d32f2f;
}

.tipBox {
  background: linear-gradient(145deg, #e3f2ff 0%, #d6ebff 100%);
  border: 1px solid rgba(46, 108, 246, 0.2);
  border-radius: 12px;
  padding: 1.25rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 14px rgba(46, 108, 246, 0.08);
}

.tipContent {
  display: flex;
  align-items: flex-start;
  gap: 1rem;
  margin-bottom: 1rem;
}

.tipIcon {
  color: #2E6CF6;
  flex-shrink: 0;
  margin-top: 2px;
}

.tipText {
  flex: 1;
}

.tipText h4 {
  margin: 0 0 0.25rem 0;
  font-size: 16px;
  font-weight: 600;
  color: #0B1324;
}

.tipText p {
  margin: 0;
  font-size: 14px;
  color: #667085;
  line-height: 1.5;
}

.tipActions {
  display: flex;
  gap: 0.75rem;
  flex-wrap: wrap;
}

.tipButton {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 1rem;
  background: #2E6CF6;
  color: white;
  border: none;
  border-radius: 980px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.28, 0.44, 0.49, 1);
  font-size: 14px;
}

.tipButton:hover {
  background: #1E53D8;
  transform: scale(1.02);
}

.tipDismiss {
  padding: 0.5rem 1rem;
  background: rgba(255, 255, 255, 0.9);
  color: #667085;
  border: 1px solid rgba(0, 0, 0, 0.1);
  border-radius: 980px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.28, 0.44, 0.49, 1);
  font-size: 14px;
}

.tipDismiss:hover {
  background: white;
  border-color: rgba(0, 0, 0, 0.15);
  color: #0B1324;
}

/* =================================
   17. TAB NAVIGATION & PREVIEWS
   ================================= */

.tabNavigation {
  display: flex;
  gap: 0.5rem;
  padding: 1rem 1.5rem;
  border-bottom: 1px solid #E5E7EB;
  background: #F9FAFB;
}

.tabButton {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1.25rem;
  background: white;
  border: 1px solid #E5E7EB;
  border-radius: 8px;
  font-size: 0.95rem;
  font-weight: 500;
  color: #667085;
  cursor: pointer;
  transition: all 0.2s ease;
}

.tabButton:hover {
  background: #F9FAFB;
  border-color: #2E6CF6;
  color: #2E6CF6;
}

.tabButton.active {
  background: linear-gradient(135deg, #2E6CF6 0%, #1E53D8 100%);
  border-color: #2E6CF6;
  color: white;
  box-shadow: 0 4px 12px rgba(46, 108, 246, 0.3);
}

.smallSpinner {
  width: 14px;
  height: 14px;
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-top-color: white;
  border-radius: 50%;
  animation: spin 0.6s linear infinite;
}

.textEditorTab {
  padding: 0;
}

.contractTextarea {
  width: 100%;
  min-height: 600px;
  padding: 1.5rem;
  border: none;
  font-family: 'SF Mono', 'Monaco', 'Courier New', monospace;
  font-size: 14px;
  line-height: 1.8;
  color: #0B1324;
  background: white;
  resize: vertical;
  outline: none;
}

.contractTextarea:focus {
  background: #fafbfc;
}

.pdfPreviewTab {
  width: 100%;
  height: 100%; /* âœ… FIXED: Maximiert statt 700px */
  min-height: 800px; /* MindesthÃ¶he fÃ¼r gute Lesbarkeit */
  background: white;
  display: flex;
  flex-direction: column;
}

.pdfPreviewFrame {
  width: 100%;
  height: 100%;
  border: none;
  border-radius: 0;
}

.pdfIframe {
  width: 100%;
  height: 100%;
  flex: 1;
  border: none;
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.previewLoading {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 400px;
  gap: 1rem;
}

.previewError {
  padding: 2rem;
  text-align: center;
  color: #ff3b30;
}

.partyDataPanel {
  border-bottom: 1px solid #E5E7EB;
  background: #F9FAFB;
}

.partyDataToggle {
  width: 100%;
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 1rem 1.5rem;
  background: transparent;
  border: none;
  font-size: 0.95rem;
  font-weight: 600;
  color: #0B1324;
  cursor: pointer;
  transition: all 0.2s ease;
}

.partyDataToggle:hover {
  background: #f3f4f6;
}

.partyDataContent {
  padding: 1rem 1.5rem 1.5rem;
  background: white;
  border-top: 1px solid #E5E7EB;
}

.partySection {
  margin-bottom: 1.5rem;
}

.partySection:last-child {
  margin-bottom: 0;
}

.partySection h4 {
  font-size: 0.95rem;
  font-weight: 600;
  color: #0B1324;
  margin: 0 0 0.75rem 0;
}

.partyInfo {
  background: #F9FAFB;
  padding: 0.75rem;
  border-radius: 8px;
  border: 1px solid #E5E7EB;
}

.companyName {
  font-size: 0.95rem;
  font-weight: 600;
  color: #0B1324;
  margin: 0 0 0.25rem 0;
}

.infoText {
  font-size: 0.85rem;
  color: #667085;
  font-style: italic;
  margin: 0;
}

.inputGroup {
  margin-bottom: 1rem;
}

.inputGroup:last-child {
  margin-bottom: 0;
}

.inputGroup label {
  display: block;
  font-size: 0.85rem;
  font-weight: 500;
  color: #667085;
  margin-bottom: 0.4rem;
}

.inputGroup input {
  width: 100%;
  padding: 0.75rem;
  border: 1px solid #E5E7EB;
  border-radius: 8px;
  font-size: 0.95rem;
  color: #0B1324;
  background: white;
  transition: all 0.2s ease;
}

.inputGroup input:focus {
  outline: none;
  border-color: #2E6CF6;
  box-shadow: 0 0 0 3px rgba(46, 108, 246, 0.1);
}

.inputGroup input::placeholder {
  color: #98A2B3;
}

/* =================================
   18. FORM FIELD & VALIDATION
   ================================= */

.formField {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.formField label {
  display: flex;
  align-items: center;
  gap: 0.4rem;
  font-size: 13px;
  font-weight: 500;
  color: #667085;
}

.required {
  color: #ff3b30;
  font-weight: 600;
}

.formField input,
.formField textarea,
.formField select {
  width: 100%;
  padding: 0.875rem 1rem;
  background: #F9FAFB;
  border: none;
  border-radius: 10px;
  font-size: 15px;
  color: #0B1324;
  transition: all 0.2s cubic-bezier(0.28, 0.44, 0.49, 1);
  font-family: inherit;
  min-height: 50px;
}

.formField input:focus,
.formField textarea:focus,
.formField select:focus {
  outline: 2px solid #2E6CF6;
  outline-offset: 0;
  background: white;
}

.formField input::placeholder,
.formField textarea::placeholder {
  color: #98A2B3;
}

.formField textarea {
  resize: vertical;
  min-height: 120px;
  line-height: 1.6;
}

.validationError {
  font-size: 12px;
  color: #ff3b30;
  margin-top: 0.25rem;
  display: flex;
  align-items: center;
  gap: 0.25rem;
}

.fieldHint {
  font-size: 12px;
  color: #667085;
  margin-top: 0.25rem;
}

/* Custom Requirements Section */
.customRequirementsSection {
  margin-top: 2rem;
  padding-top: 2rem;
  border-top: 1px solid #E5E7EB;
}

.customRequirementsTextarea {
  width: 100%;
  padding: 1rem;
  background: #F9FAFB;
  border: none;
  border-radius: 10px;
  font-size: 15px;
  color: #0B1324;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'SF Pro Text', 'Helvetica Neue', sans-serif;
  line-height: 1.6;
  resize: vertical;
  min-height: 140px;
  transition: all 0.2s ease;
}

.customRequirementsTextarea:focus {
  outline: 2px solid #2E6CF6;
  outline-offset: 0;
  background: white;
  box-shadow: none;
}

.customRequirementsTextarea::placeholder {
  color: #9CA3AF;
}

.customRequirementsTextarea:disabled {
  background: #F3F4F6;
  color: #9CA3AF;
  cursor: not-allowed;
}

/* =================================
   19. RESPONSIVE - MOBILE
   ================================= */

/* ðŸ“± TABLET (max-width: 1024px) - 2 columns for cards */
@media (max-width: 1024px) and (min-width: 769px) {
  .contractTypesGrid {
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
  }

  .templateGrid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 768px) {
  /* Content */
  .generatorContent {
    padding: 1rem 1rem 10rem;
  }

  /* Form Grid - Single Column on Mobile */
  .formGrid {
    padding: 2rem 1.5rem;
  }

  .groupFields {
    grid-template-columns: 1fr;
    gap: 1.5rem;
  }

  /* Inputs responsive */
  .formGroup input,
  .formGroup select,
  .formGroup textarea,
  .formField input,
  .formField textarea,
  .formField select {
    min-width: 100%;
    font-size: 16px; /* Prevent zoom on iOS */
  }

  /* Section Header */
  .groupHeader {
    font-size: 16px;
  }

  /* Bottom Bar Mobile */
  .stickyBottomBar {
    padding: 1rem 1rem;
    /* Safe-Area fÃ¼r iPhone X+ */
    padding-bottom: max(1rem, env(safe-area-inset-bottom));
    flex-direction: column;
    align-items: stretch;
  }

  .stickyBottomBarContent {
    flex-direction: column;
    gap: 1rem;
  }

  .bottomBarInfo {
    text-align: center;
    display: none; /* Hide info text on mobile to save space */
  }

  .generateButton {
    width: 100%;
    min-height: 52px;
    font-size: 15px;
  }

  /* Contract Types - 2 columns on tablet-ish mobile, 1 on small */
  .contractTypesGrid {
    grid-template-columns: repeat(2, 1fr);
    gap: 0.75rem;
  }

  /* Templates */
  .templateGrid {
    grid-template-columns: repeat(2, 1fr);
  }

  /* Signature */
  .signatureCanvas {
    height: 150px;
  }

  /* Premium Content */
  .premiumContent {
    flex-direction: column;
    text-align: center;
    gap: 1rem;
  }

  .upgradeButton {
    width: 100%;
    justify-content: center;
    min-height: 44px;
  }

  /* Steps Mobile */
  .progressSteps {
    padding: 1rem 0;
    max-width: 100%;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }

  .stepCircle {
    width: 40px;
    height: 40px;
    font-size: 16px;
  }

  .stepNumber {
    font-size: 16px;
  }

  .stepLabel {
    font-size: 11px;
  }

  .stepLine {
    margin: 0 0.25rem;
    margin-bottom: 1.5rem;
  }

  .progressBarContainer {
    margin-top: 1rem;
  }
}

/* =================================
   20. ACCESSIBILITY & PRINT
   ================================= */

@media print {
  body {
    background: white;
  }

  .generatorHeader,
  .progressSteps,
  .backButton,
  .generateButton,
  .stickyBottomBar,
  .actionButtons,
  .signatureControls {
    display: none !important;
  }

  h2 {
    page-break-after: avoid;
  }

  .signatureSection {
    page-break-inside: avoid;
  }

  .signaturePreview img {
    max-height: 120px;
    object-fit: contain;
  }

  @page {
    margin: 2cm;
  }
}

@media (prefers-contrast: high) {
  .formGrid {
    border: 2px solid #0B1324;
  }

  .contractTypeCard,
  .templateCard {
    border: 2px solid rgba(0, 0, 0, 0.15);
  }

  .actionButton,
  .generateButton,
  .signatureButton {
    border: 2px solid rgba(0, 0, 0, 0.15);
  }
}

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

@media (hover: none) and (pointer: coarse) {
  .contractTypeCard:active {
    transform: scale(0.98);
  }

  .templateCard:active {
    transform: scale(0.98);
  }

  .actionButton:active {
    transform: scale(0.98);
  }

  .generateButton:active {
    transform: scale(0.98);
  }
}

/* Focus States - Accessibility */
.contractTypeCard:focus-visible,
.templateCard:focus-visible,
.actionButton:focus-visible,
.generateButton:focus-visible,
.signatureButton:focus-visible,
.backButton:focus-visible,
.backToStartButton:focus-visible,
.upgradeButton:focus-visible {
  outline: 2px solid #2E6CF6;
  outline-offset: 2px;
}

.signatureCanvas:focus {
  outline: 2px solid #2E6CF6;
  outline-offset: 2px;
}

/* =================================
   21. CONTRACT FORM (LEGACY COMPATIBILITY)
   ================================= */

.contractForm {
  max-width: 1100px;
  margin: 0 auto;
  background: white;
  border-radius: 12px;
  padding: 2rem;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06);
}

.formFieldsGrid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 1.5rem;
  margin-top: 1.5rem;
}

/* ===== RESPONSIVE DESIGN ===== */

/* ðŸ“± TABLET (max-width: 1024px) */
@media (max-width: 1024px) {
  .contractGenerator {
    min-height: 100dvh;
  }

  .headerContent {
    padding: 0 1rem;
  }

  .progressSteps {
    max-width: 100%;
    padding: 1rem 0;
  }

  .stepLabel {
    font-size: 11px;
  }

  .stepCircle {
    width: 40px;
    height: 40px;
    font-size: 16px;
  }
}

/* ðŸ“± MOBILE (max-width: 768px) */
@media (max-width: 768px) {
  .contractGenerator {
    padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
    background: #FFFFFF; /* WeiÃŸ statt grau - weniger Container-Look */
  }

  .generatorHeader {
    padding: 1rem 0;
    background: #FFFFFF;
    box-shadow: none;
  }

  .headerContent {
    padding: 0 1rem;
  }

  .headerText h1 {
    font-size: 1.75rem;
    gap: 0.5rem;
    /* ðŸŽ¯ Mobile: Schwarze Schrift statt blauer Gradient */
    background: none;
    -webkit-background-clip: unset;
    -webkit-text-fill-color: #0B1324;
    color: #0B1324;
  }

  .headerText p {
    font-size: 1rem;
  }

  /* âœ… FIX: Step Header Buttons Mobile Layout */
  .stepHeaderContent {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    padding-top: 0;
  }

  .stepHeaderText {
    order: -1;
  }

  .secondaryButton,
  .primaryButton {
    position: static !important;
    width: 100%;
    justify-content: center;
  }

  .progressSteps {
    flex-wrap: wrap;
    gap: 0.5rem;
    padding: 1rem 0.5rem;
  }

  .stepWrapper {
    flex: 1;
    min-width: 60px;
  }

  .stepCircle {
    width: 36px;
    height: 36px;
    font-size: 14px;
  }

  .stepLabel {
    font-size: 10px;
    white-space: normal;
    text-align: center;
  }

  .stepLine {
    display: none;
  }

  /* ðŸŽ¯ MOBILE FIX: Flaches Design - keine verschachtelten Karten */
  .formGrid {
    padding: 1rem;
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
    border-radius: 0 !important;
  }

  .contractForm {
    padding: 0;
    background: transparent !important;
    border-radius: 0 !important;
    box-shadow: none !important;
  }

  /* Vertragstitel als einzige Karte - volle Breite */
  .formGroup.spanning {
    background: #F9FAFB;
    padding: 1.25rem;
    border-radius: 12px;
    margin: 0 0 1rem 0;
    border-bottom: none;
  }

  .formGroup.spanning input {
    background: #FFFFFF;
    border: 1px solid #E5E7EB;
  }

  /* Accordion Groups - volle Breite nutzen */
  .accordionGroup {
    margin: 0 0 0.75rem 0;
    border-radius: 12px;
  }

  .accordionHeader {
    padding: 1rem 1.25rem;
  }

  .accordionContentOpen {
    padding: 1rem 1.25rem;
    background: #FFFFFF;
  }

  .formFieldsGrid {
    gap: 1rem;
  }

  /* Touch-Targets fÃ¼r Mobile */
  .actionButton,
  .generateButton,
  .signatureButton,
  .backButton,
  .backToStartButton,
  .upgradeButton,
  .headerButton {
    min-height: 44px;
    padding: 12px 20px;
  }

  /* Contract Type Cards */
  .contractTypeCard,
  .templateCard {
    padding: 1.25rem;
  }

  /* Signature Canvas */
  .signatureCanvas {
    height: 200px;
  }
}

/* ðŸ“± SMALL MOBILE (max-width: 480px) */
@media (max-width: 480px) {
  .headerText h1 {
    font-size: 1.5rem;
  }

  .headerText p {
    font-size: 0.9rem;
  }

  /* Progress Steps - Horizontal Scroll mit Pills */
  .progressSteps {
    padding: 0.75rem 1rem;
    gap: 8px;
    flex-wrap: nowrap;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
    justify-content: flex-start;
  }

  .progressSteps::-webkit-scrollbar {
    display: none;
  }

  .stepWrapper {
    flex: 0 0 auto;
    min-width: auto;
  }

  .stepCircle {
    width: 36px;
    height: 36px;
    font-size: 14px;
  }

  .stepLabel {
    font-size: 11px;
    white-space: nowrap;
  }

  /* Contract Type Cards - Full width on small screens */
  .contractTypesGrid {
    grid-template-columns: 1fr;
    gap: 0.75rem;
  }

  /* ðŸŽ¯ Weiterhin flaches Design fÃ¼r kleine Screens */
  .formGrid {
    padding: 0.5rem;
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
  }

  .contractForm {
    padding: 0;
    background: transparent !important;
    border-radius: 0 !important;
    box-shadow: none !important;
  }

  /* Accordion Groups - volle Breite */
  .accordionGroup {
    margin: 0 0 0.5rem 0;
  }

  .formGroup.spanning {
    margin: 0 0 1rem 0;
    padding: 1rem;
  }

  .actionButton,
  .generateButton,
  .signatureButton {
    width: 100%;
    justify-content: center;
    min-height: 44px;
  }

  .contractTypeCard,
  .templateCard {
    padding: 1rem;
  }

  /* Step 3 - PDF und Text nebeneinander ist unmÃ¶glich auf Mobile */
  .step3SplitView {
    flex-direction: column;
    gap: 1rem;
  }

  .step3LeftPanel,
  .step3RightPanel {
    width: 100%;
    min-height: auto;
  }

  .step3TextEditor {
    min-height: 300px;
    max-height: 400px;
  }

  .step3PdfPreview {
    height: 350px;
    min-height: 300px;
  }
}

/* ðŸ“± EXTRA SMALL (max-width: 375px) */
@media (max-width: 375px) {
  .contractGenerator {
    padding: max(0.5rem, env(safe-area-inset-top)) max(0.5rem, env(safe-area-inset-right)) max(0.5rem, env(safe-area-inset-bottom)) max(0.5rem, env(safe-area-inset-left));
  }

  .headerContent {
    padding: 0 0.75rem;
  }

  .headerText h1 {
    font-size: 1.25rem;
    flex-direction: row;
    gap: 0.5rem;
  }

  .headerText p {
    font-size: 0.85rem;
  }

  /* Progress Steps - Kompakter aber lesbar */
  .progressSteps {
    padding: 0.5rem 0.75rem;
    gap: 6px;
  }

  .stepCircle {
    width: 32px;
    height: 32px;
    font-size: 13px;
  }

  .stepLabel {
    font-size: 10px;
    max-width: 60px;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  /* Contract Type Cards - Kompakter */
  .contractTypesGrid {
    gap: 0.5rem;
  }

  /* ðŸŽ¯ Extra-Small: Weiterhin flaches Design */
  .formGrid {
    padding: 0.25rem;
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
  }

  .contractForm {
    padding: 0;
    background: transparent !important;
    box-shadow: none !important;
  }

  .accordionGroup {
    margin: 0 0 0.5rem 0;
  }

  .formGroup.spanning {
    margin: 0 0 1rem 0;
    padding: 0.875rem;
  }

  .formFieldsGrid {
    gap: 0.75rem;
  }

  .actionButton,
  .generateButton,
  .signatureButton,
  .backButton,
  .headerButton {
    font-size: 14px;
    padding: 12px 16px;
    min-height: 48px;
  }

  .contractTypeCard,
  .templateCard {
    padding: 0.875rem;
  }

  .signatureCanvas {
    height: 150px;
  }

  /* Step 3 noch kompakter */
  .step3TextEditor {
    min-height: 250px;
    max-height: 350px;
  }

  .step3PdfPreview {
    height: 300px;
    min-height: 250px;
  }

  .step3ActionButtons {
    gap: 0.5rem;
  }

  .step3ActionButton {
    padding: 0.75rem;
    font-size: 13px;
  }

  /* Input fields */
  input,
  textarea,
  select {
    font-size: 16px; /* Prevents iOS zoom */
  }
}

/* =================================
   ðŸŽ¨ STEP 3 DESIGN SELECTOR
   Premium Design Variant Chooser
   ================================= */

.step3DesignSelector {
  background: linear-gradient(145deg, rgba(255, 255, 255, 0.98) 0%, rgba(248, 250, 252, 0.95) 100%);
  border: 1px solid rgba(59, 130, 246, 0.15);
  border-radius: 16px;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
  box-shadow:
    0 4px 20px rgba(59, 130, 246, 0.08),
    0 1px 3px rgba(0, 0, 0, 0.04);
}

.designSelectorHeader {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 1.25rem;
  flex-wrap: wrap;
  gap: 0.75rem;
}

.designSelectorTitle {
  display: flex;
  align-items: flex-start;
  gap: 0.75rem;
}

.designSelectorTitle svg {
  color: #3B82F6;
  margin-top: 2px;
  flex-shrink: 0;
}

.designSelectorTitle h4 {
  font-size: 1.1rem;
  font-weight: 600;
  color: #1E293B;
  margin: 0;
  line-height: 1.3;
}

.designSelectorTitle p {
  font-size: 0.875rem;
  color: #64748B;
  margin: 0.25rem 0 0 0;
}

.designSaveHint {
  font-size: 0.75rem;
  color: #F59E0B;
  background: rgba(245, 158, 11, 0.1);
  padding: 0.35rem 0.75rem;
  border-radius: 20px;
  font-weight: 500;
  display: flex;
  align-items: center;
  white-space: nowrap;
}

.designOptionsGrid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 0.875rem;
}

/* Individual Design Card */
.designCard {
  background: white;
  border: 2px solid #E2E8F0;
  border-radius: 12px;
  padding: 1rem;
  cursor: pointer;
  transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
  position: relative;
  overflow: hidden;
}

.designCard:hover {
  border-color: #93C5FD;
  box-shadow: 0 8px 25px rgba(59, 130, 246, 0.15);
}

.designCardActive {
  border-color: #3B82F6;
  background: linear-gradient(145deg, #EFF6FF 0%, #DBEAFE 100%);
  box-shadow:
    0 0 0 3px rgba(59, 130, 246, 0.15),
    0 8px 25px rgba(59, 130, 246, 0.2);
}

.designCardDisabled {
  opacity: 0.6;
  pointer-events: none;
}

/* Design Preview Box */
.designCardPreview {
  background: #F8FAFC;
  border-radius: 8px;
  padding: 0.75rem;
  margin-bottom: 0.75rem;
  height: 100px;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid #E2E8F0;
}

/* Executive Preview */
.designPreviewExecutive {
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  gap: 6px;
  padding: 8px;
}

.previewHeader {
  height: 10px;
  width: 50%;
  background: linear-gradient(90deg, #1E3A5F 0%, #2D4A6F 100%);
  border-radius: 2px;
}

.previewLine {
  height: 4px;
  width: 100%;
  background: linear-gradient(90deg, #E2E8F0 0%, #CBD5E1 100%);
  border-radius: 2px;
}

.previewAccent {
  height: 6px;
  width: 30%;
  background: linear-gradient(90deg, #D4AF37 0%, #C5A028 100%);
  border-radius: 2px;
  margin-top: auto;
}

/* Modern Preview */
.designPreviewModern {
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  gap: 6px;
  padding: 8px;
  background: linear-gradient(180deg, rgba(59, 130, 246, 0.03) 0%, transparent 100%);
  border-radius: 6px;
}

.previewHeaderModern {
  height: 10px;
  width: 60%;
  background: linear-gradient(90deg, #3B82F6 0%, #2563EB 100%);
  border-radius: 3px;
}

.previewLineModern {
  height: 4px;
  width: 100%;
  background: linear-gradient(90deg, #DBEAFE 0%, #BFDBFE 100%);
  border-radius: 3px;
}

.previewAccentModern {
  height: 6px;
  width: 25%;
  background: linear-gradient(90deg, #10B981 0%, #059669 100%);
  border-radius: 3px;
  margin-top: auto;
}

/* Minimal Preview */
.designPreviewMinimal {
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 8px;
}

.previewHeaderMinimal {
  height: 8px;
  width: 40%;
  background: #1E293B;
  border-radius: 1px;
}

.previewLineMinimal {
  height: 3px;
  width: 100%;
  background: #E2E8F0;
  border-radius: 1px;
}

/* Elegant Preview - Boutique-Kanzlei / Luxus Style */
.designPreviewElegant {
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  gap: 7px;
  padding: 8px;
  background: linear-gradient(180deg, #FFFDF7 0%, #FBF8F3 100%);
  border-radius: 6px;
}

.previewHeaderElegant {
  height: 10px;
  width: 50%;
  background: linear-gradient(90deg, #B8860B 0%, #D4AF37 100%);
  border-radius: 0;
  margin-bottom: 2px;
}

.previewLineElegant {
  height: 3px;
  width: 100%;
  background: #E8DCC8;
  border-radius: 0;
}

.previewAccentElegant {
  height: 2px;
  width: 30%;
  background: linear-gradient(90deg, #B8860B 0%, #D4AF37 50%, #B8860B 100%);
  margin-top: auto;
  align-self: center;
}

/* Corporate Preview - DAX-Konzern / Enterprise Style */
.designPreviewCorporate {
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  gap: 6px;
  padding: 8px;
  background: linear-gradient(180deg, #FFFFFF 0%, #F8FAFC 100%);
  border-radius: 6px;
  border-left: 3px solid #003366;
}

.previewHeaderCorporate {
  height: 10px;
  width: 60%;
  background: #003366;
  border-radius: 2px;
}

.previewLineCorporate {
  height: 3px;
  width: 100%;
  background: #E2E8F0;
  border-radius: 1px;
}

.previewAccentCorporate {
  height: 4px;
  width: 100%;
  background: linear-gradient(90deg, #0066CC 0%, #003366 100%);
  margin-top: auto;
  border-radius: 0;
}

/* Design Card Info */
.designCardInfo {
  text-align: center;
}

.designCardInfo strong {
  display: block;
  font-size: 0.95rem;
  font-weight: 600;
  color: #1E293B;
  margin-bottom: 0.2rem;
}

.designCardInfo span {
  display: block;
  font-size: 0.75rem;
  color: #3B82F6;
  font-weight: 500;
  margin-bottom: 0.35rem;
}

.designCardInfo p {
  font-size: 0.7rem;
  color: #64748B;
  margin: 0;
  line-height: 1.4;
}

/* Active Badge */
.designCardBadge {
  position: absolute;
  top: 8px;
  right: 8px;
  display: flex;
  align-items: center;
  gap: 4px;
  background: linear-gradient(135deg, #10B981 0%, #059669 100%);
  color: white;
  font-size: 0.65rem;
  font-weight: 600;
  padding: 4px 8px;
  border-radius: 20px;
  text-transform: uppercase;
  letter-spacing: 0.02em;
}

.designCardBadge svg {
  width: 12px;
  height: 12px;
}

/* Loading State */
.designCardLoading {
  position: absolute;
  inset: 0;
  background: rgba(255, 255, 255, 0.8);
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 10px;
}

/* Small Spinner (reuse or define) */
.smallSpinner {
  width: 20px;
  height: 20px;
  border: 2px solid #E2E8F0;
  border-top-color: #3B82F6;
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

/* Responsive: Large Tablet */
@media (max-width: 1100px) {
  .designOptionsGrid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.75rem;
  }
}

/* Responsive: Tablet */
@media (max-width: 900px) {
  .designOptionsGrid {
    grid-template-columns: repeat(2, 1fr);
    gap: 0.75rem;
  }

  .designCardPreview {
    height: 80px;
  }

  .designCardInfo p {
    display: none;
  }
}

/* Responsive: Mobile */
@media (max-width: 640px) {
  .step3DesignSelector {
    padding: 1rem;
    margin-bottom: 1rem;
    border-radius: 12px;
  }

  .designSelectorHeader {
    flex-direction: column;
    align-items: flex-start;
  }

  .designSaveHint {
    margin-top: 0.5rem;
  }

  .designOptionsGrid {
    grid-template-columns: 1fr;
    gap: 0.75rem;
  }

  .designCard {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 0.875rem;
  }

  .designCardPreview {
    width: 80px;
    min-width: 80px;
    height: 60px;
    margin-bottom: 0;
  }

  .designCardInfo {
    text-align: left;
    flex: 1;
  }

  .designCardInfo p {
    display: block;
    font-size: 0.7rem;
  }

  .designCardBadge {
    top: 50%;
    transform: translateY(-50%);
    right: 10px;
  }
}

/* =================================
   STEP 2: SIDEBAR LAYOUT (FLOATING)
   ================================= */

/* Step 2 Header - Zentriert */
.step2Header {
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  margin-bottom: 1.5rem;
  padding: 0 1rem;
}

.step2HeaderCenter {
  text-align: center;
}

.step2HeaderCenter h2 {
  font-size: 1.5rem;
  font-weight: 600;
  color: #0B1324;
  margin: 0 0 0.25rem 0;
}

.step2HeaderCenter p {
  font-size: 0.95rem;
  color: #6B7280;
  margin: 0;
}

/* ZurÃ¼ck-Button links absolut */
.backButtonAbsolute {
  position: absolute;
  left: 0;
}

/* Sidebar Toggle Button rechts absolut - Firmenblau */
.sidebarToggleBtn {
  position: absolute;
  right: 0;
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 1rem;
  background: #2E6CF6;
  border: 1px solid #2E6CF6;
  border-radius: 980px;
  color: #FFFFFF;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.28, 0.44, 0.49, 1);
}

.sidebarToggleBtn svg {
  width: 16px;
  height: 16px;
}

.sidebarToggleBtn:hover {
  background: #1E5AD8;
  border-color: #1E5AD8;
  color: #FFFFFF;
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(46, 108, 246, 0.3);
}

/* Aktiver Zustand wenn Sidebar offen */
.sidebarToggleBtn.sidebarToggleActive {
  background: #1E5AD8;
  border-color: #1E5AD8;
  color: #FFFFFF;
}

/* Layout Wrapper */
.step2LayoutWrapper {
  position: relative;
}

/* Floating Sidebar - Fixed Position rechts am Rand */
.step2Sidebar {
  position: fixed;
  top: 140px;
  right: 0;
  width: 300px;
  background: #FFFFFF;
  border-radius: 16px 0 0 16px; /* Links rund, rechts eckig am Rand */
  border: 1px solid rgba(0, 0, 0, 0.08);
  border-right: none; /* Kein Border am rechten Rand */
  box-shadow: -4px 4px 24px rgba(0, 0, 0, 0.08);
  padding: 0;
  max-height: calc(100vh - 180px);
  overflow-y: auto;
  z-index: 50;
  opacity: 0;
  transform: translateX(20px);
  pointer-events: none;
  transition: all 0.3s ease;
}

.step2Sidebar.sidebarOpen {
  opacity: 1;
  transform: translateX(0);
  pointer-events: auto;
}

.step2Sidebar::-webkit-scrollbar {
  width: 6px;
}

.step2Sidebar::-webkit-scrollbar-thumb {
  background: rgba(0, 0, 0, 0.15);
  border-radius: 3px;
}

/* Sidebar Header */
.sidebarHeader {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem 1.25rem;
  border-bottom: 1px solid rgba(0, 0, 0, 0.06);
  position: sticky;
  top: 0;
  background: #FFFFFF;
  z-index: 5;
}

.sidebarHeader h3 {
  font-size: 0.9rem;
  font-weight: 600;
  color: #0B1324;
  margin: 0;
}

.sidebarCloseBtn {
  display: none; /* Show only on mobile */
  background: none;
  border: none;
  font-size: 1.2rem;
  color: #6B7280;
  cursor: pointer;
  padding: 0.25rem;
  line-height: 1;
}

/* Sidebar Section */
.sidebarSection {
  padding: 1rem 1.25rem;
  border-bottom: 1px solid rgba(0, 0, 0, 0.04);
}

.sidebarSection:last-of-type {
  border-bottom: none;
}

.sidebarSectionHeader {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  color: #6B7280;
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 0.75rem;
}

.sidebarSectionHeader svg {
  width: 14px;
  height: 14px;
}

/* Sidebar Profile Create */
.sidebarProfileCreate {
  text-align: center;
  padding: 0.75rem;
  background: rgba(99, 102, 241, 0.04);
  border-radius: 10px;
}

.sidebarProfileCreate p {
  font-size: 0.8rem;
  color: #6B7280;
  margin: 0 0 0.75rem 0;
}

.sidebarCreateBtn {
  width: 100%;
  padding: 0.5rem 1rem;
  background: linear-gradient(135deg, #6366F1, #4F46E5);
  color: #FFFFFF;
  border: none;
  border-radius: 8px;
  font-size: 0.8rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
}

.sidebarCreateBtn:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
}

/* Sidebar Profile Toggle */
.sidebarProfileToggle {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.sidebarToggle {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  cursor: pointer;
}

.sidebarToggle input {
  display: none;
}

.toggleSlider {
  width: 40px;
  height: 22px;
  background: #E5E7EB;
  border-radius: 11px;
  position: relative;
  transition: background 0.2s ease;
}

.toggleSlider::after {
  content: '';
  position: absolute;
  width: 18px;
  height: 18px;
  background: #FFFFFF;
  border-radius: 50%;
  top: 2px;
  left: 2px;
  transition: transform 0.2s ease;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
}

.sidebarToggle input:checked + .toggleSlider {
  background: linear-gradient(135deg, #6366F1, #4F46E5);
}

.sidebarToggle input:checked + .toggleSlider::after {
  transform: translateX(18px);
}

.toggleLabel {
  font-size: 0.85rem;
  color: #0B1324;
  font-weight: 500;
}

/* Sidebar Profile Preview */
.sidebarProfilePreview {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 0.75rem;
  background: rgba(99, 102, 241, 0.04);
  border-radius: 10px;
  border: 1px solid rgba(99, 102, 241, 0.1);
}

.sidebarLogo {
  width: 36px;
  height: 36px;
  object-fit: contain;
  border-radius: 6px;
  background: #FFFFFF;
}

.sidebarProfileInfo {
  display: flex;
  flex-direction: column;
  gap: 0.125rem;
}

.sidebarProfileInfo strong {
  font-size: 0.85rem;
  color: #0B1324;
  font-weight: 600;
}

.sidebarProfileInfo small {
  font-size: 0.75rem;
  color: #6B7280;
}

/* Sidebar Footer mit Ausblenden-Button */
.sidebarFooter {
  padding: 0.75rem 1.25rem;
  border-top: 1px solid rgba(0, 0, 0, 0.06);
  background: #FAFBFC;
  position: sticky;
  bottom: 0;
}

.sidebarHideBtn {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.6rem 1rem;
  background: rgba(107, 114, 128, 0.08);
  border: 1px solid rgba(107, 114, 128, 0.15);
  border-radius: 8px;
  color: #6B7280;
  font-size: 0.8rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
}

.sidebarHideBtn:hover {
  background: rgba(107, 114, 128, 0.12);
  color: #4B5563;
}

.sidebarHideBtn svg {
  width: 16px;
  height: 16px;
}

/* Sidebar Overlay (Mobile) */
.sidebarOverlay {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.4);
  z-index: 49;
}

/* Compact Template Library for Sidebar */
.templateLibraryCompact {
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
  padding: 0 !important;
  margin: 0 !important;
}

.templateGridCompact {
  display: flex;
  flex-direction: column;
  gap: 0.5rem !important;
}

.templateCardCompact {
  flex-direction: row !important;
  padding: 0.6rem 0.75rem !important;
  gap: 0.6rem !important;
  border-radius: 8px !important;
}

.templateCardCompact .templateIcon {
  width: 28px !important;
  height: 28px !important;
  font-size: 1rem !important;
}

.templateCardCompact .templateInfo h4 {
  font-size: 0.8rem !important;
  margin: 0 !important;
}

.templateCardCompact .premiumBadge {
  padding: 0.15rem 0.35rem !important;
  font-size: 0.65rem !important;
}

/* Create Template Button Compact */
.createTemplateButtonCompact {
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.6rem;
  background: rgba(99, 102, 241, 0.06);
  border: 1px dashed rgba(99, 102, 241, 0.3);
  border-radius: 8px;
  color: #6366F1;
  font-size: 0.8rem;
  font-weight: 500;
  cursor: pointer;
  margin-bottom: 0.5rem;
  transition: all 0.2s ease;
}

.createTemplateButtonCompact:hover {
  background: rgba(99, 102, 241, 0.1);
  border-color: rgba(99, 102, 241, 0.5);
}

/* =================================
   RESPONSIVE: SIDEBAR
   ================================= */

/* Large screens: Sidebar am rechten Rand fixiert */
@media (min-width: 1400px) {
  .step2Sidebar {
    right: 0; /* Immer am rechten Rand */
  }
}

/* Tablet & smaller desktop */
@media (max-width: 1024px) {
  .step2Header {
    padding: 0;
  }

  .step2Sidebar {
    position: fixed;
    top: 0;
    right: 0;
    width: 320px;
    height: 100vh;
    max-height: 100vh;
    border-radius: 0;
    z-index: 100;
    /* Geschlossen: unsichtbar und nicht klickbar */
    opacity: 0;
    transform: translateX(100%);
    pointer-events: none;
    transition: opacity 0.3s ease, transform 0.3s ease;
  }

  .step2Sidebar.sidebarOpen {
    /* Offen: sichtbar und von rechts reinschieben */
    opacity: 1;
    transform: translateX(0);
    pointer-events: auto;
  }

  .sidebarCloseBtn {
    display: block;
  }

  .sidebarOverlay {
    display: block;
  }
}

@media (max-width: 640px) {
  .step2Sidebar {
    width: 100%;
  }

  /* Mobile: Header mit Buttons nebeneinander */
  .step2Header {
    flex-direction: column;
    gap: 1rem;
    padding: 0 1rem;
  }

  /* Button-Reihe: ZurÃ¼ck links, Vorlagen rechts */
  .step2Header::before {
    content: '';
    display: flex;
    order: 1;
  }

  .backButtonAbsolute {
    position: relative;
    order: 1;
    flex: 1;
  }

  .sidebarToggleBtn {
    position: relative;
    order: 2;
    flex: 1;
  }

  /* Beide Buttons in einer Zeile */
  .step2Header {
    display: grid;
    grid-template-columns: 1fr 1fr;
    grid-template-rows: auto auto;
    gap: 0.75rem;
  }

  .backButtonAbsolute {
    grid-column: 1;
    grid-row: 1;
    justify-content: center;
  }

  .sidebarToggleBtn {
    grid-column: 2;
    grid-row: 1;
    justify-content: center;
  }

  .sidebarToggleBtn span {
    display: inline; /* Text wieder anzeigen */
  }

  .step2HeaderCenter {
    grid-column: 1 / -1;
    grid-row: 2;
    width: 100%;
    margin-top: 0.5rem;
  }
}

/* =================================
   DRAFT DIALOG - Entwurf weiter bearbeiten
   ================================= */

.draftDialogOverlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(4px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  padding: 1rem;
}

.draftDialog {
  background: #FFFFFF;
  border-radius: 20px;
  padding: 2rem;
  max-width: 420px;
  width: 100%;
  text-align: center;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
}

.draftDialogIcon {
  width: 64px;
  height: 64px;
  background: linear-gradient(135deg, #2E6CF6 0%, #6366F1 100%);
  border-radius: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto 1.25rem;
  color: #FFFFFF;
}

.draftDialog h3 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #0B1324;
  margin: 0 0 0.75rem 0;
}

.draftDialog p {
  font-size: 1rem;
  color: #667085;
  line-height: 1.6;
  margin: 0 0 1.5rem 0;
}

.draftDialog p strong {
  color: #0B1324;
}

.draftDialogButtons {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.draftDialogBtnPrimary {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.875rem 1.5rem;
  background: #2E6CF6;
  color: #FFFFFF;
  border: none;
  border-radius: 12px;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
}

.draftDialogBtnPrimary:hover {
  background: #1E5AD8;
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(46, 108, 246, 0.3);
}

.draftDialogBtnSecondary {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.875rem 1.5rem;
  background: #F5F5F7;
  color: #667085;
  border: 1px solid #E5E7EB;
  border-radius: 12px;
  font-size: 1rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
}

.draftDialogBtnSecondary:hover {
  background: #EAEAEC;
  color: #0B1324;
  border-color: #D1D5DB;
}

@media (max-width: 480px) {
  .draftDialog {
    padding: 1.5rem;
    border-radius: 16px;
  }

  .draftDialogIcon {
    width: 56px;
    height: 56px;
  }

  .draftDialog h3 {
    font-size: 1.25rem;
  }

  .draftDialog p {
    font-size: 0.9rem;
  }

  .draftDialogBtnPrimary,
  .draftDialogBtnSecondary {
    padding: 0.75rem 1.25rem;
    font-size: 0.9rem;
  }
}

/* ============================================
   ðŸ“Ž ANLAGEN / ATTACHMENTS SECTION
   ============================================ */

/* Update Text Button im Header */
.updateTextButton {
  display: flex;
  align-items: center;
  gap: 0.4rem;
  padding: 0.4rem 0.75rem;
  margin-left: auto;
  background: linear-gradient(135deg, #0B1324 0%, #1A2540 100%);
  color: white;
  border: none;
  border-radius: 6px;
  font-size: 12px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
}

.updateTextButton:hover:not(:disabled) {
  transform: translateY(-1px);
  box-shadow: 0 2px 8px rgba(11, 19, 36, 0.3);
}

.updateTextButton:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.tinySpinner {
  width: 12px;
  height: 12px;
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-top-color: white;
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}

/* Anlagen Section Container */
.attachmentsSection {
  margin-top: 2rem;
  background: linear-gradient(135deg, #FAFBFC 0%, #F3F4F6 100%);
  border: 1.5px solid #E5E7EB;
  border-radius: 16px;
  padding: 1.5rem;
  width: 100%;
  max-width: 1200px;
}

.attachmentsSectionHeader {
  margin-bottom: 1.25rem;
}

.attachmentsTitleRow {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  margin-bottom: 0.5rem;
}

.attachmentsTitleRow h3 {
  font-size: 1.1rem;
  font-weight: 600;
  color: #0B1324;
  margin: 0;
}

.attachmentsTitleRow svg {
  color: #0B1324;
}

.attachmentsBadge {
  background: #0B1324;
  color: white;
  padding: 0.2rem 0.6rem;
  border-radius: 12px;
  font-size: 11px;
  font-weight: 500;
}

.attachmentsSubtitle {
  font-size: 13px;
  color: #667085;
  margin: 0;
}

/* Dropzone */
.attachmentsDropzone {
  position: relative;
  border: 2px dashed #D1D5DB;
  border-radius: 12px;
  padding: 2rem;
  text-align: center;
  transition: all 0.2s ease;
  background: white;
  margin-bottom: 1rem;
}

.attachmentsDropzone:hover {
  border-color: #0B1324;
  background: #F9FAFB;
}

.attachmentsDropzone.dragging {
  border-color: #0B1324;
  background: rgba(11, 19, 36, 0.05);
  transform: scale(1.01);
}

.attachmentInput {
  position: absolute;
  inset: 0;
  opacity: 0;
  cursor: pointer;
}

.attachmentLabel {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.75rem;
  cursor: pointer;
  pointer-events: none;
}

.attachmentLabel svg {
  color: #667085;
}

.dropzoneText {
  font-size: 14px;
  color: #374151;
}

.dropzoneText strong {
  color: #0B1324;
  text-decoration: underline;
}

.dropzoneHint {
  font-size: 12px;
  color: #9CA3AF;
}

/* Attachments List */
.attachmentsList {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  margin-bottom: 1rem;
}

.attachmentItem {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding: 0.75rem 1rem;
  background: white;
  border: 1px solid #E5E7EB;
  border-radius: 10px;
  transition: all 0.2s ease;
}

.attachmentItem:hover {
  border-color: #0B1324;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

.attachmentIcon {
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: #F3F4F6;
  border-radius: 8px;
  color: #667085;
  flex-shrink: 0;
}

.attachmentInfo {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
  min-width: 0;
}

.attachmentNameInput {
  border: none;
  background: transparent;
  font-size: 14px;
  font-weight: 500;
  color: #0B1324;
  padding: 0;
  width: 100%;
  outline: none;
}

.attachmentNameInput:focus {
  background: #F9FAFB;
  padding: 0.25rem 0.5rem;
  margin: -0.25rem -0.5rem;
  border-radius: 4px;
}

.attachmentSize {
  font-size: 12px;
  color: #9CA3AF;
}

.attachmentRemove {
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: transparent;
  border: none;
  border-radius: 6px;
  color: #9CA3AF;
  cursor: pointer;
  transition: all 0.2s ease;
  flex-shrink: 0;
}

.attachmentRemove:hover {
  background: #FEE2E2;
  color: #DC2626;
}

/* Download Options */
.attachmentDownloadOptions {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding-top: 1rem;
  border-top: 1px solid #E5E7EB;
}

.downloadLabel {
  font-size: 13px;
  color: #667085;
  font-weight: 500;
}

.downloadOptionButton {
  display: flex;
  align-items: center;
  gap: 0.4rem;
  padding: 0.5rem 1rem;
  background: white;
  border: 1.5px solid #E5E7EB;
  border-radius: 8px;
  font-size: 13px;
  font-weight: 500;
  color: #374151;
  cursor: pointer;
  transition: all 0.2s ease;
}

.downloadOptionButton:hover:not(:disabled) {
  border-color: #0B1324;
  color: #0B1324;
  transform: translateY(-1px);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.downloadOptionButton:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

/* Responsive fÃ¼r Attachments */
@media (max-width: 768px) {
  .attachmentsSection {
    padding: 1rem;
    margin-top: 1.5rem;
  }

  .attachmentsDropzone {
    padding: 1.5rem 1rem;
  }

  .attachmentItem {
    padding: 0.6rem 0.75rem;
    gap: 0.75rem;
  }

  .attachmentIcon {
    width: 36px;
    height: 36px;
  }

  .attachmentDownloadOptions {
    flex-direction: column;
    align-items: stretch;
    gap: 0.5rem;
  }

  .downloadLabel {
    text-align: center;
    margin-bottom: 0.25rem;
  }

  .downloadOptionButton {
    justify-content: center;
  }
}


/* =================================
   ðŸ†• STEP 3 PROFESSIONAL REDESIGN
   Two-Column Layout with Sticky PDF
   ================================= */

/* New Container for Step 3 */
.step3ContainerNew {
  max-width: 1400px;
  margin: 0 auto;
  width: 100%;
  padding: 0 24px;
}

/* Success Header - Compact with Actions - LIGHT & FRIENDLY */
.step3SuccessHeader {
  background: linear-gradient(135deg, #ECFDF5 0%, #D1FAE5 100%);
  border-radius: 16px;
  padding: 20px 32px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 24px;
  box-shadow: 0 2px 12px rgba(16, 185, 129, 0.1);
  border: 1px solid rgba(16, 185, 129, 0.2);
}

.step3SuccessLeft {
  display: flex;
  align-items: center;
  gap: 16px;
}

.step3SuccessIcon {
  width: 48px;
  height: 48px;
  background: linear-gradient(135deg, #10B981 0%, #059669 100%);
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
}

.step3SuccessText h2 {
  color: #065F46;
  font-size: 20px;
  font-weight: 600;
  margin: 0 0 4px 0;
}

.step3SuccessText p {
  color: #047857;
  font-size: 14px;
  margin: 0;
}

.step3SuccessActions {
  display: flex;
  gap: 12px;
}

.step3HeaderBtn {
  padding: 10px 20px;
  border-radius: 10px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;
  transition: all 0.2s;
  background: white;
  color: #0B1324;
  border: 1px solid #E5E7EB;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
}

.step3HeaderBtn:hover {
  background: #F9FAFB;
  border-color: #D1D5DB;
}

.step3HeaderBtn.primary {
  background: linear-gradient(135deg, #10B981 0%, #059669 100%);
  border-color: transparent;
  color: white;
}

.step3HeaderBtn.primary:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);
}

.step3HeaderBtn.accent {
  background: linear-gradient(135deg, #2E6CF6 0%, #1E53D8 100%);
  border-color: transparent;
  color: white;
}

.step3HeaderBtn.accent:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(46, 108, 246, 0.4);
}

.step3HeaderBtn.accent:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
}

.step3HeaderBtn.success {
  background: linear-gradient(135deg, #10B981 0%, #059669 100%);
  border-color: transparent;
  color: white;
}

.step3Error {
  background: rgba(239, 68, 68, 0.1);
  border: 1px solid rgba(239, 68, 68, 0.3);
  border-radius: 12px;
  padding: 16px 20px;
  margin-bottom: 24px;
  display: flex;
  align-items: center;
  gap: 12px;
  color: #DC2626;
  font-size: 14px;
}

/* Two Column Layout */
.step3TwoColumn {
  display: grid;
  grid-template-columns: 1fr 420px;
  gap: 24px;
  align-items: start;
}

/* Left Column */
.step3LeftColumn {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

/* Design Selector - Compact */
.step3DesignCompact {
  background: white;
  border-radius: 16px;
  padding: 20px 24px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
  border: 1px solid #E5E7EB;
}

.step3DesignHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 16px;
}

.step3DesignHeader span {
  display: flex;
  align-items: center;
  gap: 10px;
  font-weight: 600;
  color: #0B1324;
  font-size: 15px;
}

.step3DesignOptions {
  display: flex;
  gap: 12px;
}

.step3DesignOption {
  flex: 1;
  padding: 12px;
  border: 2px solid #E5E7EB;
  border-radius: 12px;
  cursor: pointer;
  transition: all 0.2s;
  text-align: center;
  background: white;
  position: relative;
}

.step3DesignOption:hover {
  border-color: #0B1324;
}

.step3DesignOption.active {
  border-color: #10B981;
  background: rgba(16, 185, 129, 0.05);
}

.step3DesignPreview {
  width: 100%;
  height: 40px;
  background: #F3F4F6;
  border-radius: 6px;
  margin-bottom: 8px;
  display: flex;
  flex-direction: column;
  padding: 6px;
  gap: 3px;
}

.previewLines {
  display: flex;
  flex-direction: column;
  gap: 3px;
  width: 100%;
}

.pLine {
  height: 4px;
  background: #D1D5DB;
  border-radius: 2px;
}

.pLine:first-child {
  width: 60%;
}

.pLine:nth-child(2) {
  width: 80%;
}

.pLine:last-child {
  width: 40%;
}

/* Design-specific previews */
.step3DesignOption[data-design="executive"] .step3DesignPreview {
  background: linear-gradient(135deg, #0B1324 0%, #1A2540 100%);
}

.step3DesignOption[data-design="executive"] .pLine {
  background: rgba(255, 255, 255, 0.3);
}

.step3DesignOption[data-design="modern"] .pLine:first-child {
  background: #3B82F6;
}

.step3DesignOption[data-design="elegant"] .pLine:first-child {
  background: #D4AF37;
}

.step3DesignOption[data-design="corporate"] .pLine:first-child {
  background: #003366;
}

.step3DesignOption span:last-child {
  font-size: 12px;
  font-weight: 600;
  color: #374151;
}

.step3DesignCheck {
  position: absolute;
  top: -6px;
  right: -6px;
  width: 20px;
  height: 20px;
  background: #10B981;
  border-radius: 50%;
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
}

.step3DesignLoading {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 24px;
}

/* Design Count Badge */
.designCount {
  font-size: 11px !important;
  font-weight: 500 !important;
  color: #6B7280 !important;
  background: #F3F4F6;
  padding: 2px 8px;
  border-radius: 10px;
  margin-left: auto;
}

/* Carousel Container */
.step3DesignCarousel {
  display: flex;
  align-items: center;
  gap: 8px;
}

/* Carousel Arrow Buttons */
.carouselArrow {
  width: 32px;
  height: 32px;
  border-radius: 8px;
  border: 1px solid #E5E7EB;
  background: white;
  color: #374151;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s;
  flex-shrink: 0;
}

.carouselArrow:hover:not(:disabled) {
  border-color: #0B1324;
  color: #0B1324;
  background: #F9FAFB;
}

.carouselArrow:disabled {
  opacity: 0.4;
  cursor: not-allowed;
}

/* Design Options - now scrollable */
.step3DesignOptions {
  display: flex;
  gap: 10px;
  overflow: hidden;
  flex: 1;
}

/* Individual Design Option */
.step3DesignOption {
  flex: 0 0 calc((100% - 40px) / 5);
  min-width: 80px;
  padding: 10px;
  border: 2px solid #E5E7EB;
  border-radius: 10px;
  cursor: pointer;
  transition: all 0.2s;
  text-align: center;
  background: white;
  position: relative;
}

.step3DesignOption:hover {
  border-color: #0B1324;
}

.step3DesignOption.active {
  border-color: #10B981;
  background: rgba(16, 185, 129, 0.05);
}

/* Design Header Right */
.designHeaderRight {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-left: auto;
}

/* Custom Design Button */
.customDesignBtn {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 6px 12px;
  background: linear-gradient(135deg, #7C3AED 0%, #5B21B6 100%);
  color: white;
  border: none;
  border-radius: 8px;
  font-size: 12px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;
}

.customDesignBtn:hover:not(:disabled) {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(124, 58, 237, 0.3);
}

.customDesignBtn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Custom Design Modal Overlay */
.customDesignOverlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.6);
  backdrop-filter: blur(4px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  padding: 20px;
}

/* Custom Design Modal */
.customDesignModal {
  background: white;
  border-radius: 20px;
  width: 100%;
  max-width: 600px;
  max-height: 90vh;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  box-shadow: 0 25px 50px rgba(0, 0, 0, 0.25);
}

.customDesignHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 20px 24px;
  border-bottom: 1px solid #E5E7EB;
  background: linear-gradient(135deg, #F9FAFB 0%, #F3F4F6 100%);
}

.customDesignHeader h3 {
  display: flex;
  align-items: center;
  gap: 10px;
  margin: 0;
  font-size: 18px;
  font-weight: 600;
  color: #0B1324;
}

.customDesignClose {
  width: 32px;
  height: 32px;
  border: none;
  background: white;
  border-radius: 8px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #6B7280;
  transition: all 0.2s;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.customDesignClose:hover {
  background: #F3F4F6;
  color: #0B1324;
}

.customDesignContent {
  padding: 24px;
  overflow-y: auto;
  flex: 1;
}

.customDesignSection {
  margin-bottom: 24px;
}

.customDesignSection h4 {
  margin: 0 0 12px 0;
  font-size: 14px;
  font-weight: 600;
  color: #374151;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* Color Picker Grid */
.colorPickerGrid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 16px;
}

.colorPickerItem {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.colorPickerItem label {
  font-size: 12px;
  font-weight: 500;
  color: #6B7280;
}

.colorInputWrapper {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 8px;
  background: #F9FAFB;
  border-radius: 8px;
  border: 1px solid #E5E7EB;
}

.colorInput {
  width: 32px;
  height: 32px;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  padding: 0;
}

.colorInput::-webkit-color-swatch-wrapper {
  padding: 0;
}

.colorInput::-webkit-color-swatch {
  border: none;
  border-radius: 6px;
}

.colorInputWrapper span {
  font-size: 12px;
  font-family: 'SF Mono', 'Monaco', 'Inconsolata', monospace;
  color: #374151;
  text-transform: uppercase;
}

/* Font Grid */
.fontGrid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 12px;
}

.fontOption {
  padding: 16px 12px;
  background: white;
  border: 2px solid #E5E7EB;
  border-radius: 12px;
  cursor: pointer;
  transition: all 0.2s;
  text-align: center;
  position: relative;
}

.fontOption:hover {
  border-color: #0B1324;
}

.fontOption.active {
  border-color: #7C3AED;
  background: rgba(124, 58, 237, 0.05);
}

.fontName {
  display: block;
  font-size: 16px;
  font-weight: 600;
  color: #0B1324;
  margin-bottom: 4px;
}

.fontDesc {
  display: block;
  font-size: 11px;
  color: #6B7280;
}

.fontCheck {
  position: absolute;
  top: 6px;
  right: 6px;
  color: #7C3AED;
}

/* Layout Grid */
.layoutGrid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 10px;
}

.layoutOption {
  padding: 12px 8px;
  background: white;
  border: 2px solid #E5E7EB;
  border-radius: 10px;
  cursor: pointer;
  transition: all 0.2s;
  text-align: center;
  position: relative;
}

.layoutOption:hover {
  border-color: #0B1324;
}

.layoutOption.active {
  border-color: #7C3AED;
  background: rgba(124, 58, 237, 0.05);
}

.layoutOption span {
  display: block;
  font-size: 10px;
  font-weight: 600;
  color: #374151;
  margin-top: 8px;
}

.layoutCheck {
  position: absolute;
  top: 4px;
  right: 4px;
  color: #7C3AED;
}

.layoutPreview {
  width: 100%;
  height: 40px;
  background: #F3F4F6;
  border-radius: 6px;
  position: relative;
  overflow: hidden;
}

.layoutLines {
  display: flex;
  flex-direction: column;
  gap: 4px;
  padding: 8px;
}

.layoutLines div {
  height: 4px;
  background: #D1D5DB;
  border-radius: 2px;
}

.layoutLines div:nth-child(1) { width: 60%; }
.layoutLines div:nth-child(2) { width: 80%; }
.layoutLines div:nth-child(3) { width: 40%; }

/* Layout Specific Previews */
.layoutPreview[data-layout="sidebar-accent"] {
  background: linear-gradient(to right, #3B82F6 20%, #F3F4F6 20%);
}

.layoutPreview[data-layout="whitespace-focus"] .layoutLines {
  padding: 12px 16px;
}

.layoutPreview[data-layout="structured-boxes"] .layoutLines div {
  background: #0B1324;
}

.layoutPreview[data-layout="ornamental"] {
  border: 2px solid #D4AF37;
}

/* Preview Section */
.customDesignPreviewSection h4 {
  margin-bottom: 12px;
}

.customDesignPreviewBox {
  width: 100%;
  height: 120px;
  border-radius: 12px;
  border: 3px solid;
  overflow: hidden;
  position: relative;
}

.customDesignPreviewBox .previewHeader {
  height: 30px;
  border-bottom: 2px solid;
  display: flex;
  align-items: center;
  padding: 0 12px;
}

.customDesignPreviewBox .previewHeader div {
  width: 60px;
  height: 10px;
  border-radius: 5px;
}

.customDesignPreviewBox .previewBody {
  padding: 12px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.customDesignPreviewBox .previewBody div {
  height: 8px;
  border-radius: 4px;
}

.customDesignPreviewBox .previewBody div:nth-child(1) { width: 70%; }
.customDesignPreviewBox .previewBody div:nth-child(2) { width: 90%; }
.customDesignPreviewBox .previewBody div:nth-child(3) { width: 50%; }

/* Custom Design Footer */
.customDesignFooter {
  display: flex;
  justify-content: flex-end;
  gap: 12px;
  padding: 16px 24px;
  border-top: 1px solid #E5E7EB;
  background: #F9FAFB;
}

.customDesignCancelBtn {
  padding: 10px 20px;
  background: white;
  border: 1px solid #E5E7EB;
  border-radius: 10px;
  font-size: 14px;
  font-weight: 500;
  color: #374151;
  cursor: pointer;
  transition: all 0.2s;
}

.customDesignCancelBtn:hover {
  border-color: #0B1324;
  color: #0B1324;
}

.customDesignApplyBtn {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 10px 24px;
  background: linear-gradient(135deg, #7C3AED 0%, #5B21B6 100%);
  border: none;
  border-radius: 10px;
  font-size: 14px;
  font-weight: 600;
  color: white;
  cursor: pointer;
  transition: all 0.2s;
}

.customDesignApplyBtn:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(124, 58, 237, 0.3);
}

/* Editor Panel */
.step3EditorPanel {
  background: white;
  border-radius: 16px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
  border: 1px solid #E5E7EB;
  overflow: hidden;
}

.step3EditorHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 20px;
  background: #F9FAFB;
  border-bottom: 1px solid #E5E7EB;
}

.step3EditorTitle {
  display: flex;
  align-items: center;
  gap: 10px;
  font-weight: 600;
  color: #0B1324;
  font-size: 15px;
}

.step3EditorActions {
  display: flex;
  gap: 8px;
}

.step3EditorBtn {
  padding: 6px 12px;
  font-size: 12px;
  border-radius: 6px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 6px;
  transition: all 0.2s;
  border: 1px solid #E5E7EB;
  background: white;
  color: #374151;
  font-weight: 500;
}

.step3EditorBtn:hover {
  border-color: #0B1324;
  color: #0B1324;
}

.step3EditorBtn.dark {
  background: #0B1324;
  color: white;
  border-color: #0B1324;
}

.step3EditorBtn.dark:hover {
  background: #1A2540;
}

.step3ImprovementBar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 20px;
  background: linear-gradient(135deg, rgba(46, 108, 246, 0.08) 0%, rgba(46, 108, 246, 0.04) 100%);
  border-bottom: 1px solid rgba(46, 108, 246, 0.15);
}

.step3ImprovementBar span {
  font-size: 13px;
  color: #2E6CF6;
  display: flex;
  align-items: center;
  gap: 8px;
}

.step3ImprovementActions {
  display: flex;
  gap: 8px;
}

.step3EditorContent {
  padding: 20px;
  min-height: 300px;
  max-height: 400px;
  overflow-y: auto;
}

.step3EditorContent textarea {
  width: 100%;
  height: 100%;
  min-height: 280px;
  border: none;
  outline: none;
  font-size: 14px;
  line-height: 1.8;
  color: #374151;
  resize: none;
  font-family: inherit;
}

/* Attachments Panel */
.step3AttachmentsPanel {
  background: white;
  border-radius: 16px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
  border: 1px solid #E5E7EB;
  overflow: hidden;
}

.step3AttachmentsHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 20px;
  background: #F9FAFB;
  border-bottom: 1px solid #E5E7EB;
}

.step3AttachmentsTitle {
  display: flex;
  align-items: center;
  gap: 10px;
  font-weight: 600;
  color: #0B1324;
  font-size: 15px;
}

.step3AttachmentsBadge {
  background: #0B1324;
  color: white;
  padding: 2px 8px;
  border-radius: 10px;
  font-size: 11px;
  font-weight: 500;
}

.step3AttachmentsInfo {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  color: #667085;
  cursor: help;
  margin-left: 4px;
  opacity: 0.7;
  transition: all 0.2s ease;
}

.step3AttachmentsInfo:hover {
  opacity: 1;
  color: #2E6CF6;
}

.step3AddToContractBtn {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 8px 14px;
  background: linear-gradient(135deg, #2E6CF6 0%, #1E53D8 100%);
  color: white;
  border: none;
  border-radius: 8px;
  font-size: 12px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s;
}

.step3AddToContractBtn:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(46, 108, 246, 0.3);
}

.step3AttachmentsContent {
  padding: 16px 20px;
}

.step3Dropzone {
  border: 2px dashed #D1D5DB;
  border-radius: 12px;
  padding: 24px;
  text-align: center;
  cursor: pointer;
  transition: all 0.2s;
  margin-bottom: 12px;
}

.step3Dropzone:hover {
  border-color: #0B1324;
  background: #F9FAFB;
}

.step3Dropzone p {
  margin: 0;
  font-size: 13px;
  color: #6B7280;
}

.step3Dropzone strong {
  color: #0B1324;
  text-decoration: underline;
}

.step3AttachmentsList {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.step3AttachmentItem {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px;
  background: #F9FAFB;
  border-radius: 10px;
}

.step3AttachmentIcon {
  width: 36px;
  height: 36px;
  background: white;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: #6B7280;
  border: 1px solid #E5E7EB;
}

.step3AttachmentItem div:nth-child(2) {
  flex: 1;
}

.step3AttachmentItem div:nth-child(2) span:first-child {
  display: block;
  font-size: 13px;
  font-weight: 500;
  color: #0B1324;
}

.step3AttachmentSize {
  display: block;
  font-size: 11px;
  color: #9CA3AF;
}

.step3AttachmentItem button {
  width: 28px;
  height: 28px;
  border: none;
  background: transparent;
  color: #9CA3AF;
  cursor: pointer;
  border-radius: 6px;
  transition: all 0.2s;
  display: flex;
  align-items: center;
  justify-content: center;
}

.step3AttachmentItem button:hover {
  background: #FEE2E2;
  color: #DC2626;
}

.step3DownloadRow {
  display: flex;
  align-items: center;
  gap: 8px;
  padding-top: 12px;
  border-top: 1px solid #E5E7EB;
  margin-top: 4px;
}

.step3DownloadRow span {
  font-size: 12px;
  color: #6B7280;
}

/* Right Column - PDF Preview */
.step3RightColumn {
  position: sticky;
  top: 100px;
}

.step3PdfPanel {
  background: white;
  border-radius: 16px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
  border: 1px solid #E5E7EB;
  overflow: hidden;
}

.step3PdfHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 20px;
  background: #F9FAFB;
  border-bottom: 1px solid #E5E7EB;
}

.step3PdfHeader span {
  display: flex;
  align-items: center;
  gap: 10px;
  font-weight: 600;
  color: #0B1324;
  font-size: 15px;
}

.step3PdfContent {
  background: #F3F4F6;
  min-height: 500px;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  padding: 24px;
}

.step3PdfContent canvas {
  max-width: 100%;
  height: auto;
  border-radius: 4px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.12);
  background: white;
}

.step3PdfEmpty {
  text-align: center;
  color: #6B7280;
  padding: 40px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 12px;
}

.step3PdfEmpty p {
  margin: 8px 0 0 0;
  font-size: 14px;
}

.step3PdfEmpty button {
  margin-top: 8px;
  padding: 8px 16px;
  background: white;
  border: 1px solid #E5E7EB;
  border-radius: 8px;
  color: #374151;
  font-size: 13px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 6px;
  transition: all 0.2s;
}

.step3PdfEmpty button:hover {
  background: #F9FAFB;
  border-color: #D1D5DB;
}

.step3PdfLoading {
  text-align: center;
  color: #6B7280;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 16px;
}

.step3PdfLoading p {
  margin: 0;
  font-size: 14px;
}

.step3PdfContent iframe {
  width: 100%;
  height: 500px;
  border: none;
  border-radius: 4px;
  background: white;
}

/* Editor Button Primary Variant */
.step3EditorBtn.primary {
  background: #0B1324;
  color: white;
  border-color: #0B1324;
}

.step3EditorBtn.primary:hover {
  background: #1A2540;
}

/* Improvement Bar Styling */
.step3ImprovementBar {
  display: flex;
  flex-direction: column;
  gap: 12px;
  padding: 16px 20px;
  background: linear-gradient(135deg, rgba(46, 108, 246, 0.08) 0%, rgba(46, 108, 246, 0.04) 100%);
  border-bottom: 1px solid rgba(46, 108, 246, 0.15);
}

.step3ImprovementBar textarea {
  width: 100%;
  padding: 12px;
  border: 1px solid rgba(46, 108, 246, 0.2);
  border-radius: 8px;
  font-size: 14px;
  resize: none;
  font-family: inherit;
  background: white;
}

.step3ImprovementBar textarea:focus {
  outline: none;
  border-color: #2E6CF6;
}

.step3ImprovementActions {
  display: flex;
  gap: 8px;
  justify-content: flex-end;
}

.step3ImprovementActions button {
  padding: 8px 16px;
  border-radius: 6px;
  font-size: 13px;
  font-weight: 500;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 6px;
  transition: all 0.2s;
  border: 1px solid #E5E7EB;
  background: white;
  color: #374151;
}

.step3ImprovementActions button:hover {
  border-color: #0B1324;
}

.step3ImprovementActions button.primary {
  background: #2E6CF6;
  color: white;
  border-color: #2E6CF6;
}

.step3ImprovementActions button.primary:hover {
  background: #1E53D8;
}

.step3ImprovementActions button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Dropzone Styling */
.step3Dropzone input {
  display: none;
}

.step3Dropzone label {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  cursor: pointer;
}

.step3Dropzone.dragging {
  border-color: #2E6CF6;
  background: rgba(46, 108, 246, 0.05);
}

/* Attachment Item Input */
.step3AttachmentItem input {
  flex: 1;
  border: none;
  background: transparent;
  font-size: 13px;
  font-weight: 500;
  color: #0B1324;
  padding: 4px 8px;
  border-radius: 4px;
}

.step3AttachmentItem input:focus {
  outline: none;
  background: white;
  box-shadow: 0 0 0 2px rgba(46, 108, 246, 0.2);
}

/* Download Row Buttons */
.step3DownloadRow button {
  padding: 6px 12px;
  border-radius: 6px;
  font-size: 12px;
  font-weight: 500;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 6px;
  transition: all 0.2s;
  border: 1px solid #E5E7EB;
  background: white;
  color: #374151;
}

.step3DownloadRow button:hover {
  border-color: #0B1324;
  color: #0B1324;
}

.step3DownloadRow button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Footer */
.step3Footer {
  margin-top: 24px;
  text-align: center;
}

.step3BackBtn {
  background: none;
  border: none;
  color: #6B7280;
  font-size: 14px;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 12px 20px;
  border-radius: 10px;
  transition: all 0.2s;
}

.step3BackBtn:hover {
  background: #F3F4F6;
  color: #0B1324;
}

/* Step 3 Responsive - Mobile */
@media (max-width: 1024px) {
  .step3TwoColumn {
    grid-template-columns: 1fr;
  }

  .step3RightColumn {
    position: static;
    order: -1;
  }

  .step3PdfContent {
    min-height: 400px;
  }

  .step3SuccessHeader {
    flex-direction: column;
    gap: 16px;
    text-align: center;
    padding: 20px;
  }

  .step3SuccessLeft {
    flex-direction: column;
    gap: 12px;
  }

  .step3SuccessActions {
    flex-wrap: wrap;
    justify-content: center;
  }

  .step3DesignOptions {
    flex-wrap: wrap;
  }

  .step3DesignOption {
    flex: 1 1 calc(50% - 6px);
    min-width: 100px;
  }
}

@media (max-width: 640px) {
  .step3ContainerNew {
    padding: 0 16px;
  }

  .step3HeaderBtn {
    padding: 8px 12px;
    font-size: 12px;
  }

  .step3HeaderBtn span:last-child {
    display: none;
  }

  .step3DesignCompact,
  .step3EditorPanel,
  .step3AttachmentsPanel,
  .step3PdfPanel {
    border-radius: 12px;
  }

  .step3DesignOption {
    flex: 1 1 100%;
  }

  .step3EditorContent {
    max-height: 300px;
  }
}
