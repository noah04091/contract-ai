
================================================================================
ğŸ§ª REPAIR-PASS TEST RUN - individuell & darlehen (DIRECT FUNCTION CALL)
================================================================================
ğŸ“… Run Label: staging-repair-pass-direct-2025-11-07
ğŸ§ª Total Tests: 6

âœ… MongoDB verbunden


ğŸš€ Starte Test: individuell (standard)
ğŸš€ V2 Zwei-Phasen-Generierung gestartet
ğŸ“‹ Vertragstyp: individuell
ğŸ‘¤ User ID (hash): 507f1f77...
ğŸ“Š Input (sanitiert): { parteiA: { exists: true }, parteiB: { exists: true } }
ğŸ¯ Quality Threshold: 0.9
ğŸ”„ Phase 1: Meta-Prompt Generation gestartet
ğŸ“‹ Vertragstyp: individuell
ğŸ‘¥ Rollen: { A: 'Partei A', B: 'Partei B' }
ğŸ“Š Input (sanitiert): { parteiA: { exists: true }, parteiB: { exists: true } }
âœ… Phase 1 erfolgreich: {
  promptLength: 1044,
  snapshotKeys: [ 'roles', 'mustClauses', 'forbiddenTopics', 'customRequirements' ],
  timingMs: 8577,
  tokens: 1565
}
ğŸ”„ Phase 2: Contract Generation gestartet
ğŸ“ Prompt-LÃ¤nge: 1044
âœ… Phase 2 erfolgreich: {
  textMetadata: {
    length: 2947,
    paragraphCount: 12,
    preview: '**Vertrag**\n' +
      '\n' +
      'zwischen\n' +
      '\n' +
      'Partei A: [NAME], HauptstraÃŸe 1, 10115 Berlin\n' +
      '\n' +
      'und\n' +
      '\n' +
      'Partei B: [NAME], Nebenst...'
  },
  timingMs: 12057,
  tokens: 1002
}
ğŸ”§ Repair-Pass gestartet fÃ¼r: individuell
   âŒ individuell (standard): buildInputSummary is not defined

ğŸš€ Starte Test: individuell (sonderklausel)
ğŸš€ V2 Zwei-Phasen-Generierung gestartet
ğŸ“‹ Vertragstyp: individuell
ğŸ‘¤ User ID (hash): 507f1f77...
ğŸ“Š Input (sanitiert): {
  parteiA: { exists: true },
  parteiB: { exists: true },
  customRequirements: { length: 227 }
}
ğŸ¯ Quality Threshold: 0.9
ğŸ”„ Phase 1: Meta-Prompt Generation gestartet
ğŸ“‹ Vertragstyp: individuell
ğŸ‘¥ Rollen: { A: 'Partei A', B: 'Partei B' }
ğŸ“Š Input (sanitiert): {
  parteiA: { exists: true },
  parteiB: { exists: true },
  customRequirements: { length: 227 }
}
âœ… Phase 1 erfolgreich: {
  promptLength: 1527,
  snapshotKeys: [ 'roles', 'mustClauses', 'forbiddenTopics', 'customRequirements' ],
  timingMs: 14296,
  tokens: 1910
}
ğŸ”„ Phase 2: Contract Generation gestartet
ğŸ“ Prompt-LÃ¤nge: 1527
âœ… Phase 2 erfolgreich: {
  textMetadata: {
    length: 3360,
    paragraphCount: 10,
    preview: '**Vertrag**\n' +
      '\n' +
      'zwischen\n' +
      '\n' +
      '**Partei A:**  \n' +
      '[NAME]  \n' +
      'Projektweg 10  \n' +
      '50667 KÃ¶ln  \n' +
      '\n' +
      'und\n' +
      '\n' +
      '**Partei B:**  \n' +
      '[...'
  },
  timingMs: 20110,
  tokens: 1248
}
ğŸ”§ Repair-Pass gestartet fÃ¼r: individuell
   âŒ individuell (sonderklausel): buildInputSummary is not defined

ğŸš€ Starte Test: individuell (edge_case)
ğŸš€ V2 Zwei-Phasen-Generierung gestartet
ğŸ“‹ Vertragstyp: individuell
ğŸ‘¤ User ID (hash): 507f1f77...
ğŸ“Š Input (sanitiert): {
  parteiA: { exists: true },
  parteiB: { exists: true },
  customRequirements: { length: 51 }
}
ğŸ¯ Quality Threshold: 0.9
ğŸ”„ Phase 1: Meta-Prompt Generation gestartet
ğŸ“‹ Vertragstyp: individuell
ğŸ‘¥ Rollen: { A: 'Partei A', B: 'Partei B' }
ğŸ“Š Input (sanitiert): {
  parteiA: { exists: true },
  parteiB: { exists: true },
  customRequirements: { length: 51 }
}
âœ… Phase 1 erfolgreich: {
  promptLength: 1052,
  snapshotKeys: [ 'roles', 'mustClauses', 'forbiddenTopics', 'customRequirements' ],
  timingMs: 11356,
  tokens: 1738
}
ğŸ”„ Phase 2: Contract Generation gestartet
ğŸ“ Prompt-LÃ¤nge: 1052
âœ… Phase 2 erfolgreich: {
  textMetadata: {
    length: 3010,
    paragraphCount: 11,
    preview: '**Vertrag zwischen Partei A und Partei B**\n' +
      '\n' +
      'Zwischen\n' +
      '\n' +
      '**Partei A:**  \n' +
      '[NAME]  \n' +
      'TeststraÃŸe 1  \n' +
      '12345 ...'
  },
  timingMs: 20827,
  tokens: 1033
}
ğŸ”§ Repair-Pass gestartet fÃ¼r: individuell
   âŒ individuell (edge_case): buildInputSummary is not defined

ğŸš€ Starte Test: darlehen (standard)
ğŸš€ V2 Zwei-Phasen-Generierung gestartet
ğŸ“‹ Vertragstyp: darlehen
ğŸ‘¤ User ID (hash): 507f1f77...
ğŸ“Š Input (sanitiert): {
  parteiA: { exists: true },
  parteiB: { exists: true },
  customRequirements: { length: 135 }
}
ğŸ¯ Quality Threshold: 0.94
ğŸ”„ Phase 1: Meta-Prompt Generation gestartet
ğŸ“‹ Vertragstyp: darlehen
ğŸ‘¥ Rollen: { A: 'Darlehensgeber', B: 'Darlehensnehmer' }
ğŸ“Š Input (sanitiert): {
  parteiA: { exists: true },
  parteiB: { exists: true },
  customRequirements: { length: 135 }
}
âœ… Phase 1 erfolgreich: {
  promptLength: 1751,
  snapshotKeys: [ 'roles', 'mustClauses', 'forbiddenTopics', 'customRequirements' ],
  timingMs: 18082,
  tokens: 2159
}
ğŸ”„ Phase 2: Contract Generation gestartet
ğŸ“ Prompt-LÃ¤nge: 1751
âœ… Phase 2 erfolgreich: {
  textMetadata: {
    length: 3252,
    paragraphCount: 12,
    preview: '**Darlehensvertrag**\n' +
      '\n' +
      'zwischen\n' +
      '\n' +
      '**Darlehensgeber:**  \n' +
      '[NAME]  \n' +
      'BankstraÃŸe 10  \n' +
      '60311 Frankfurt  \n' +
      '\n' +
      'un...'
  },
  timingMs: 19957,
  tokens: 1341
}
ğŸ”§ Repair-Pass gestartet fÃ¼r: darlehen
   âŒ darlehen (standard): buildInputSummary is not defined

ğŸš€ Starte Test: darlehen (sonderklausel)
ğŸš€ V2 Zwei-Phasen-Generierung gestartet
ğŸ“‹ Vertragstyp: darlehen
ğŸ‘¤ User ID (hash): 507f1f77...
ğŸ“Š Input (sanitiert): {
  parteiA: { exists: true },
  parteiB: { exists: true },
  customRequirements: { length: 184 }
}
ğŸ¯ Quality Threshold: 0.94
ğŸ”„ Phase 1: Meta-Prompt Generation gestartet
ğŸ“‹ Vertragstyp: darlehen
ğŸ‘¥ Rollen: { A: 'Darlehensgeber', B: 'Darlehensnehmer' }
ğŸ“Š Input (sanitiert): {
  parteiA: { exists: true },
  parteiB: { exists: true },
  customRequirements: { length: 184 }
}
ğŸ“‹ Intelligent filtering: 3 â†’ 2 topics (-1 mentioned in input)
âœ… Phase 1 erfolgreich: {
  promptLength: 1713,
  snapshotKeys: [ 'roles', 'mustClauses', 'forbiddenTopics', 'customRequirements' ],
  timingMs: 16075,
  tokens: 2173
}
ğŸ”„ Phase 2: Contract Generation gestartet
ğŸ“ Prompt-LÃ¤nge: 1713
âœ… Phase 2 erfolgreich: {
  textMetadata: {
    length: 3720,
    paragraphCount: 11,
    preview: '**Darlehensvertrag**\n' +
      '\n' +
      'zwischen\n' +
      '\n' +
      '**[NAME]H**, KapitalstraÃŸe 1, 40213 DÃ¼sseldorf\n' +
      '\n' +
      '- im Folgend...'
  },
  timingMs: 22596,
  tokens: 1438
}
ğŸ”§ Repair-Pass gestartet fÃ¼r: darlehen
   âŒ darlehen (sonderklausel): buildInputSummary is not defined

ğŸš€ Starte Test: darlehen (edge_case)
ğŸš€ V2 Zwei-Phasen-Generierung gestartet
ğŸ“‹ Vertragstyp: darlehen
ğŸ‘¤ User ID (hash): 507f1f77...
ğŸ“Š Input (sanitiert): {
  parteiA: { exists: true },
  parteiB: { exists: true },
  customRequirements: { length: 206 }
}
ğŸ¯ Quality Threshold: 0.94
ğŸ”„ Phase 1: Meta-Prompt Generation gestartet
ğŸ“‹ Vertragstyp: darlehen
ğŸ‘¥ Rollen: { A: 'Darlehensgeber', B: 'Darlehensnehmer' }
ğŸ“Š Input (sanitiert): {
  parteiA: { exists: true },
  parteiB: { exists: true },
  customRequirements: { length: 206 }
}
âœ… Phase 1 erfolgreich: {
  promptLength: 1693,
  snapshotKeys: [ 'roles', 'mustClauses', 'forbiddenTopics', 'customRequirements' ],
  timingMs: 19941,
  tokens: 2139
}
ğŸ”„ Phase 2: Contract Generation gestartet
ğŸ“ Prompt-LÃ¤nge: 1693
âœ… Phase 2 erfolgreich: {
  textMetadata: {
    length: 3344,
    paragraphCount: 10,
    preview: '**Darlehensvertrag**\n' +
      '\n' +
      'zwischen\n' +
      '\n' +
      '**[NAME]**  \n' +
      'FamilienstraÃŸe 5,  \n' +
      '30159 Hannover  \n' +
      '\n' +
      '- im Folg...'
  },
  timingMs: 14707,
  tokens: 1296
}
ğŸ”§ Repair-Pass gestartet fÃ¼r: darlehen
   âŒ darlehen (edge_case): buildInputSummary is not defined

================================================================================
ğŸ“Š ZUSAMMENFASSUNG
================================================================================

Total: 6
âœ… Erfolgreich: 0
âŒ Fehlgeschlagen: 6


âŒ FEHLGESCHLAGENE TESTS:

   individuell (standard): buildInputSummary is not defined
   individuell (sonderklausel): buildInputSummary is not defined
   individuell (edge_case): buildInputSummary is not defined
   darlehen (standard): buildInputSummary is not defined
   darlehen (sonderklausel): buildInputSummary is not defined
   darlehen (edge_case): buildInputSummary is not defined

================================================================================
âœ… Test-Run abgeschlossen!
================================================================================

